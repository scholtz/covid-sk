(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a3165"],{"014b":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"app-pane-lgray py-2"},[a("b-container",[a("h1",[t._v(t._s(t.$t("labTestResultsAnnouncement")))])])],1),"select"===t.action?a("b-container",[a("h2",[t._v(t._s(t.$t("labSelectItemToScan")))]),a("b-row",[a("b-col",[a("button",{staticClass:"my-2 btn btn-primary bg-danger",on:{click:function(e){t.action="sick"}}},[t._v(" "+t._s(t.$t("labTestResultsSick"))+" ")])])],1),a("b-row",[a("b-col",[a("button",{staticClass:"my-2 btn btn-primary bg-warning text-dark",on:{click:function(e){t.action="repeat"}}},[t._v(" "+t._s(t.$t("labTestResultsRepeat"))+" ")])])],1),a("b-row",[a("b-col",[a("button",{staticClass:"my-2 btn btn-primary bg-success",on:{click:function(e){t.action="healthy"}}},[t._v(" "+t._s(t.$t("labTestResultsHealthy"))+" ")])])],1)],1):t._e(),"sick"===t.action?a("b-container",[a("button",{staticClass:"float-right bg-light my-2 btn btn-light",on:{click:t.reset}},[t._v(" "+t._s(t.$t("labBackToSelection"))+" ")]),a("button",{staticClass:"float-right bg-light m-2 btn btn-light",on:{click:t.resetTable}},[t._v(" Reset ")]),a("h2",[t._v(t._s(t.$t("labSelectTestResultsSick")))])]):t._e(),"repeat"===t.action?a("b-container",[a("button",{staticClass:"float-right bg-light my-2 btn btn-light",on:{click:t.reset}},[t._v(" "+t._s(t.$t("labBackToSelection"))+" ")]),a("button",{staticClass:"float-right bg-light m-2 btn btn-light",on:{click:t.resetTable}},[t._v(" Reset ")]),a("h2",[t._v(t._s(t.$t("labSelectTestResultsRepeat")))])]):t._e(),"healthy"===t.action?a("b-container",[a("button",{staticClass:"float-right bg-light my-2 btn btn-light",on:{click:t.reset}},[t._v(" "+t._s(t.$t("labBackToSelection"))+" ")]),a("button",{staticClass:"float-right bg-light m-2 btn btn-light",on:{click:t.resetTable}},[t._v(" Reset ")]),a("h2",[t._v(t._s(t.$t("labSelectTestResultsHealthy")))])]):t._e(),"select"!==t.action?a("b-container",[a("b-row",[a("b-col",[a("label",{attrs:{for:"next"}},[t._v(t._s(t.$t("labNextCode")))]),a("b-input",{ref:"next",attrs:{id:"next"},model:{value:t.next,callback:function(e){t.next=e},expression:"next"}}),a("button",{staticClass:"btn btn-primary my-2",attrs:{disabled:!t.next},on:{click:function(e){return t.data.push({code:t.next,state:"labStateReadyToSend",variant:"alert alert-info"})}}},[t._v(" "+t._s(t.$t("labAdd"))+" ")])],1),"right"===t.scanbox?a("b-col",[t.useQR?a("qrcode-stream",{on:{decode:t.onDecode}}):a("StreamBarcodeReader",{on:{decode:t.onDecode}})],1):t._e()],1),"aboveTable"===t.scanbox?a("b-container",[t.useQR?a("qrcode-stream",{on:{decode:t.onDecode}}):a("StreamBarcodeReader",{on:{decode:t.onDecode}})],1):t._e(),a("b-table",{attrs:{items:t.data,fields:t.fields},scopedSlots:t._u([{key:"cell(id)",fn:function(e){return[a("button",{staticClass:"btn btn-primary m-2 bg-light",on:{click:function(a){return t.data.splice(e.index,1)}}},[t._v(" "+t._s(t.$t("labCancel"))+" ")])]}},{key:"cell(state)",fn:function(e){return[a("div",{class:e.item.variant},[t._v(" "+t._s(t.$t(e.item.state))+" ")])]}}],null,!1,1997791024)}),"sick"===t.action?a("b-container",[a("button",{staticClass:"btn btn-danger my-2",attrs:{disabled:t.processing},on:{click:t.send}},[t._v(" "+t._s(t.$t("labSendSickAnnouncement"))+" "),t.processing?a("b-spinner",{attrs:{small:""}}):t._e()],1)]):t._e(),"repeat"===t.action?a("b-container",[a("button",{staticClass:"btn btn-info my-2",attrs:{disabled:t.processing},on:{click:t.send}},[t._v(" "+t._s(t.$t("labSendRepeatAnnouncement"))+" "),t.processing?a("b-spinner",{attrs:{small:""}}):t._e()],1)]):t._e(),"healthy"===t.action?a("b-container",[a("button",{staticClass:"btn btn-success my-2",attrs:{disabled:t.processing},on:{click:t.send}},[t._v(" "+t._s(t.$t("labSendHealthyAnnouncement"))+" "),t.processing?a("b-spinner",{attrs:{small:""}}):t._e()],1)]):t._e(),"belowTable"===t.scanbox?a("b-container",[t.useQR?a("qrcode-stream",{on:{decode:t.onDecode}}):a("StreamBarcodeReader",{on:{decode:t.onDecode}})],1):t._e(),a("b-container",[a("b-row",[a("b-col",[a("p",[t._v(" Funkcionalita tlačítka Reset: Ak je aspoň jeden odoslaný výsledok, vymaže výsledky úspešne odoslaných zo zoznamu. Ak nie je odoslaný žiadny výsledok, ak je v zozname na odoslanie aspoň jeden výsledok na odoslanie po stlačení sa vymažú z tabuľky záznamy na odoslanie a zostanú iba záznamy chybne odoslané. Ak sa stlačí tlačítko reset bez záznamov na odoslanie a bez úspešne odoslaných záznamov, z tabuľky sa vymažú aj nespárované záznamy alebo záznamy s inou chybou. ")])])],1),a("b-row",[a("b-col",[a("label",{attrs:{for:"scanbox"}},[t._v("Pozícia scanboxu")]),a("b-form-select",{attrs:{options:t.scanboxPositions,id:"scanbox"},model:{value:t.scanbox,callback:function(e){t.scanbox=e},expression:"scanbox"}})],1)],1)],1)],1):t._e()],1)},s=[],o=a("2f62"),c=a("bb6f"),i=a("f337");function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function r(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){b(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function b(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var d={components:{StreamBarcodeReader:i["a"],QrcodeStream:c["QrcodeStream"]},data:function(){return{useQR:!0,processing:!1,processingCount:0,scanbox:"right",scanboxPositions:[{text:"Vpravo od vstupu",value:"right"},{text:"Nad tabuľkou na celú šírku",value:"aboveTable"},{text:"Pod tabuľkou na celú šírku",value:"belowTable"}],fields:[{label:this.$t("labAction"),key:"id"},{label:this.$t("labTestCode"),key:"code",sortable:!0},{label:this.$t("labState"),key:"state",sortable:!0}],data:[],next:"",action:"select"}},watch:{scanbox:function(){localStorage.setItem("scanbox",this.scanbox)}},mounted:function(){var t=localStorage.getItem("scanbox");t&&(this.scanbox=t)},methods:r(r({},Object(o["b"])({SetResults:"result/SetResults"})),{},{onDecode:function(t){this.next=t},reset:function(){this.action="select",this.data=[],this.next=""},resetTable:function(){this.next="";var t=this.data.filter((function(t){return"labStateReadyToSend"===t.state})).length,e=this.data.filter((function(t){return"labStateSent"===t.state})).length;this.data.length>t&&t>0?this.data=this.data.filter((function(t){return"labStateReadyToSend"!=t.state})):this.data.length>e&&e>0?this.data=this.data.filter((function(t){return"labStateSent"!=t.state})):this.data=[]},send:function(){var t=this,e="error";if(this.next){var a=!1;for(var n in this.data)this.data[n].code==this.next&&(a=!0);a||(this.data.push({code:this.next,state:"labStateReadyToSend",variant:"alert alert-info"}),this.next="")}"sick"===this.action&&(e="positive"),"healthy"===this.action&&(e="negative"),"repeat"===this.action&&(e="test-to-be-repeated"),console.log("result",e,this.data),this.processing=!0,this.processingCount=this.data.length;var s=0,o=function(a){var n=t.data[a].code;console.log("result",e,n),t.SetResults({testCode:n,result:e}).then((function(e){s++,e&&(console.log("sent",e),t.data[a].state="labStateSent",t.data[a].variant="alert alert-success",e.timeIsValid||(t.data[a].variant="alert alert-danger",t.data[a].state="labStateTooSoon"),e.matched||(t.data[a].state="labStateNotMatched",t.data[a].variant="alert alert-danger")),s==t.processingCount&&(t.processing=!1)}))};for(var c in this.data)o(c)}})},u=d,h=a("2877"),p=Object(h["a"])(u,n,s,!1,null,null,null);e["default"]=p.exports}}]);