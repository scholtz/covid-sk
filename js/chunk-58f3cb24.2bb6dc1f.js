(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58f3cb24"],{"282b":function(e,t,r){"use strict";var n={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};n.localCName=n.generateIdentifier(),n.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},n.splitSections=function(e){var t=e.split("\nm=");return t.map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},n.getDescription=function(e){var t=n.splitSections(e);return t&&t[0]},n.getMediaSections=function(e){var t=n.splitSections(e);return t.shift(),t},n.matchPrefix=function(e,t){return n.splitLines(e).filter((function(e){return 0===e.indexOf(t)}))},n.parseCandidate=function(e){var t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");for(var r={foundation:t[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},n=8;n<t.length;n+=2)switch(t[n]){case"raddr":r.relatedAddress=t[n+1];break;case"rport":r.relatedPort=parseInt(t[n+1],10);break;case"tcptype":r.tcpType=t[n+1];break;case"ufrag":r.ufrag=t[n+1],r.usernameFragment=t[n+1];break;default:r[t[n]]=t[n+1];break}return r},n.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},n.parseIceOptions=function(e){return e.substr(14).split(" ")},n.parseRtpMap=function(e){var t=e.substr(9).split(" "),r={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),r.name=t[0],r.clockRate=parseInt(t[1],10),r.channels=3===t.length?parseInt(t[2],10):1,r.numChannels=r.channels,r},n.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var r=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==r?"/"+r:"")+"\r\n"},n.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},n.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},n.parseFmtp=function(e){for(var t,r={},n=e.substr(e.indexOf(" ")+1).split(";"),o=0;o<n.length;o++)t=n[o].trim().split("="),r[t[0].trim()]=t[1];return r},n.writeFmtp=function(e){var t="",r=e.payloadType;if(void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var n=[];Object.keys(e.parameters).forEach((function(t){e.parameters[t]?n.push(t+"="+e.parameters[t]):n.push(t)})),t+="a=fmtp:"+r+" "+n.join(";")+"\r\n"}return t},n.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},n.writeRtcpFb=function(e){var t="",r=e.payloadType;return void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+r+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},n.parseSsrcMedia=function(e){var t=e.indexOf(" "),r={ssrc:parseInt(e.substr(7,t-7),10)},n=e.indexOf(":",t);return n>-1?(r.attribute=e.substr(t+1,n-t-1),r.value=e.substr(n+1)):r.attribute=e.substr(t+1),r},n.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},n.getMid=function(e){var t=n.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},n.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},n.getDtlsParameters=function(e,t){var r=n.matchPrefix(e+t,"a=fingerprint:");return{role:"auto",fingerprints:r.map(n.parseFingerprint)}},n.writeDtlsParameters=function(e,t){var r="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){r+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),r},n.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},n.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"===typeof e.keyParams?n.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},n.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},n.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},n.getCryptoParameters=function(e,t){var r=n.matchPrefix(e+t,"a=crypto:");return r.map(n.parseCryptoLine)},n.getIceParameters=function(e,t){var r=n.matchPrefix(e+t,"a=ice-ufrag:")[0],o=n.matchPrefix(e+t,"a=ice-pwd:")[0];return r&&o?{usernameFragment:r.substr(12),password:o.substr(10)}:null},n.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},n.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=n.splitLines(e),o=r[0].split(" "),i=3;i<o.length;i++){var a=o[i],s=n.matchPrefix(e,"a=rtpmap:"+a+" ")[0];if(s){var c=n.parseRtpMap(s),u=n.matchPrefix(e,"a=fmtp:"+a+" ");switch(c.parameters=u.length?n.parseFmtp(u[0]):{},c.rtcpFeedback=n.matchPrefix(e,"a=rtcp-fb:"+a+" ").map(n.parseRtcpFb),t.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(c.name.toUpperCase());break;default:break}}}return n.matchPrefix(e,"a=extmap:").forEach((function(e){t.headerExtensions.push(n.parseExtmap(e))})),t},n.writeRtpDescription=function(e,t){var r="";r+="m="+e+" ",r+=t.codecs.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=t.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach((function(e){r+=n.writeRtpMap(e),r+=n.writeFmtp(e),r+=n.writeRtcpFb(e)}));var o=0;return t.codecs.forEach((function(e){e.maxptime>o&&(o=e.maxptime)})),o>0&&(r+="a=maxptime:"+o+"\r\n"),r+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach((function(e){r+=n.writeExtmap(e)})),r},n.parseRtpEncodingParameters=function(e){var t,r=[],o=n.parseRtpParameters(e),i=-1!==o.fecMechanisms.indexOf("RED"),a=-1!==o.fecMechanisms.indexOf("ULPFEC"),s=n.matchPrefix(e,"a=ssrc:").map((function(e){return n.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),c=s.length>0&&s[0].ssrc,u=n.matchPrefix(e,"a=ssrc-group:FID").map((function(e){var t=e.substr(17).split(" ");return t.map((function(e){return parseInt(e,10)}))}));u.length>0&&u[0].length>1&&u[0][0]===c&&(t=u[0][1]),o.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var n={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&t&&(n.rtx={ssrc:t}),r.push(n),i&&(n=JSON.parse(JSON.stringify(n)),n.fec={ssrc:c,mechanism:a?"red+ulpfec":"red"},r.push(n))}})),0===r.length&&c&&r.push({ssrc:c});var d=n.matchPrefix(e,"b=");return d.length&&(d=0===d[0].indexOf("b=TIAS:")?parseInt(d[0].substr(7),10):0===d[0].indexOf("b=AS:")?1e3*parseInt(d[0].substr(5),10)*.95-16e3:void 0,r.forEach((function(e){e.maxBitrate=d}))),r},n.parseRtcpParameters=function(e){var t={},r=n.matchPrefix(e,"a=ssrc:").map((function(e){return n.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];r&&(t.cname=r.value,t.ssrc=r.ssrc);var o=n.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=o.length>0,t.compound=0===o.length;var i=n.matchPrefix(e,"a=rtcp-mux");return t.mux=i.length>0,t},n.parseMsid=function(e){var t,r=n.matchPrefix(e,"a=msid:");if(1===r.length)return t=r[0].substr(7).split(" "),{stream:t[0],track:t[1]};var o=n.matchPrefix(e,"a=ssrc:").map((function(e){return n.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return o.length>0?(t=o[0].value.split(" "),{stream:t[0],track:t[1]}):void 0},n.parseSctpDescription=function(e){var t,r=n.parseMLine(e),o=n.matchPrefix(e,"a=max-message-size:");o.length>0&&(t=parseInt(o[0].substr(19),10)),isNaN(t)&&(t=65536);var i=n.matchPrefix(e,"a=sctp-port:");if(i.length>0)return{port:parseInt(i[0].substr(12),10),protocol:r.fmt,maxMessageSize:t};var a=n.matchPrefix(e,"a=sctpmap:");if(a.length>0){var s=n.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(s[0],10),protocol:s[1],maxMessageSize:t}}},n.writeSctpDescription=function(e,t){var r=[];return r="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&r.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),r.join("")},n.generateSessionId=function(){return Math.random().toString().substr(2,21)},n.writeSessionBoilerplate=function(e,t,r){var o,i=void 0!==t?t:2;o=e||n.generateSessionId();var a=r||"thisisadapterortc";return"v=0\r\no="+a+" "+o+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},n.writeMediaSection=function(e,t,r,o){var i=n.writeRtpDescription(e.kind,t);if(i+=n.writeIceParameters(e.iceGatherer.getLocalParameters()),i+=n.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":"active"),i+="a=mid:"+e.mid+"\r\n",e.direction?i+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?i+="a=sendrecv\r\n":e.rtpSender?i+="a=sendonly\r\n":e.rtpReceiver?i+="a=recvonly\r\n":i+="a=inactive\r\n",e.rtpSender){var a="msid:"+o.id+" "+e.rtpSender.track.id+"\r\n";i+="a="+a,i+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a,e.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+a,i+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return i+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+n.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+n.localCName+"\r\n"),i},n.getDirection=function(e,t){for(var r=n.splitLines(e),o=0;o<r.length;o++)switch(r[o]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[o].substr(2);default:}return t?n.getDirection(t):"sendrecv"},n.getKind=function(e){var t=n.splitLines(e),r=t[0].split(" ");return r[0].substr(2)},n.isRejected=function(e){return"0"===e.split(" ",2)[1]},n.parseMLine=function(e){var t=n.splitLines(e),r=t[0].substr(2).split(" ");return{kind:r[0],port:parseInt(r[1],10),protocol:r[2],fmt:r.slice(3).join(" ")}},n.parseOLine=function(e){var t=n.matchPrefix(e,"o=")[0],r=t.substr(2).split(" ");return{username:r[0],sessionId:r[1],sessionVersion:parseInt(r[2],10),netType:r[3],addressType:r[4],address:r[5]}},n.isValidSDP=function(e){if("string"!==typeof e||0===e.length)return!1;for(var t=n.splitLines(e),r=0;r<t.length;r++)if(t[r].length<2||"="!==t[r].charAt(1))return!1;return!0},e.exports=n},8179:function(e,t,r){"use strict";var n={};r.r(n),r.d(n,"shimGetUserMedia",(function(){return S})),r.d(n,"shimGetDisplayMedia",(function(){return R})),r.d(n,"shimMediaStream",(function(){return b})),r.d(n,"shimOnTrack",(function(){return E})),r.d(n,"shimGetSendersWithDtmf",(function(){return x})),r.d(n,"shimGetStats",(function(){return P})),r.d(n,"shimSenderReceiverGetStats",(function(){return w})),r.d(n,"shimAddTrackRemoveTrackWithNative",(function(){return D})),r.d(n,"shimAddTrackRemoveTrack",(function(){return O})),r.d(n,"shimPeerConnection",(function(){return A})),r.d(n,"fixNegotiationNeeded",(function(){return k}));var o={};r.r(o),r.d(o,"shimGetUserMedia",(function(){return N})),r.d(o,"shimGetDisplayMedia",(function(){return L})),r.d(o,"shimPeerConnection",(function(){return z})),r.d(o,"shimReplaceTrack",(function(){return U}));var i={};r.r(i),r.d(i,"shimGetUserMedia",(function(){return F})),r.d(i,"shimGetDisplayMedia",(function(){return G})),r.d(i,"shimOnTrack",(function(){return W})),r.d(i,"shimPeerConnection",(function(){return B})),r.d(i,"shimSenderGetStats",(function(){return V})),r.d(i,"shimReceiverGetStats",(function(){return H})),r.d(i,"shimRemoveStream",(function(){return q})),r.d(i,"shimRTCDataChannel",(function(){return J})),r.d(i,"shimAddTransceiver",(function(){return X})),r.d(i,"shimGetParameters",(function(){return K})),r.d(i,"shimCreateOffer",(function(){return $})),r.d(i,"shimCreateAnswer",(function(){return Y}));var a={};r.r(a),r.d(a,"shimLocalStreamsAPI",(function(){return Q})),r.d(a,"shimRemoteStreamsAPI",(function(){return Z})),r.d(a,"shimCallbacksAPI",(function(){return ee})),r.d(a,"shimGetUserMedia",(function(){return te})),r.d(a,"shimConstraints",(function(){return re})),r.d(a,"shimRTCIceServerUrls",(function(){return ne})),r.d(a,"shimTrackEventTransceiver",(function(){return oe})),r.d(a,"shimCreateOfferLegacy",(function(){return ie})),r.d(a,"shimAudioContext",(function(){return ae}));var s={};r.r(s),r.d(s,"shimRTCIceCandidate",(function(){return ue})),r.d(s,"shimMaxMessageSize",(function(){return de})),r.d(s,"shimSendThrowTypeError",(function(){return fe})),r.d(s,"shimConnectionState",(function(){return pe})),r.d(s,"removeAllowExtmapMixed",(function(){return le}));let c=!0,u=!0;function d(e,t,r){const n=e.match(t);return n&&n.length>=r&&parseInt(n[r],10)}function f(e,t,r){if(!e.RTCPeerConnection)return;const n=e.RTCPeerConnection.prototype,o=n.addEventListener;n.addEventListener=function(e,n){if(e!==t)return o.apply(this,arguments);const i=e=>{const t=r(e);t&&(n.handleEvent?n.handleEvent(t):n(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(n,i),o.apply(this,[e,i])};const i=n.removeEventListener;n.removeEventListener=function(e,r){if(e!==t||!this._eventMap||!this._eventMap[t])return i.apply(this,arguments);if(!this._eventMap[t].has(r))return i.apply(this,arguments);const n=this._eventMap[t].get(r);return this._eventMap[t].delete(r),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,i.apply(this,[e,n])},Object.defineProperty(n,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function p(e){return"boolean"!==typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(c=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function l(e){return"boolean"!==typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(u=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function h(){if("object"===typeof window){if(c)return;"undefined"!==typeof console&&"function"===typeof console.log&&console.log.apply(console,arguments)}}function v(e,t){u&&console.warn(e+" is deprecated, please use "+t+" instead.")}function m(e){const t={browser:null,version:null};if("undefined"===typeof e||!e.navigator)return t.browser="Not a browser.",t;const{navigator:r}=e;if(r.mozGetUserMedia)t.browser="firefox",t.version=d(r.userAgent,/Firefox\/(\d+)\./,1);else if(r.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)t.browser="chrome",t.version=d(r.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(r.mediaDevices&&r.userAgent.match(/Edge\/(\d+).(\d+)$/))t.browser="edge",t.version=d(r.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!r.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=d(r.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}function g(e){return"[object Object]"===Object.prototype.toString.call(e)}function y(e){return g(e)?Object.keys(e).reduce((function(t,r){const n=g(e[r]),o=n?y(e[r]):e[r],i=n&&!Object.keys(o).length;return void 0===o||i?t:Object.assign(t,{[r]:o})}),{}):e}function C(e,t,r){t&&!r.has(t.id)&&(r.set(t.id,t),Object.keys(t).forEach(n=>{n.endsWith("Id")?C(e,e.get(t[n]),r):n.endsWith("Ids")&&t[n].forEach(t=>{C(e,e.get(t),r)})}))}function _(e,t,r){const n=r?"outbound-rtp":"inbound-rtp",o=new Map;if(null===t)return o;const i=[];return e.forEach(e=>{"track"===e.type&&e.trackIdentifier===t.id&&i.push(e)}),i.forEach(t=>{e.forEach(r=>{r.type===n&&r.trackId===t.id&&C(e,r,o)})}),o}const T=h;function S(e){const t=e&&e.navigator;if(!t.mediaDevices)return;const r=m(e),n=function(e){if("object"!==typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach(r=>{if("require"===r||"advanced"===r||"mediaSource"===r)return;const n="object"===typeof e[r]?e[r]:{ideal:e[r]};void 0!==n.exact&&"number"===typeof n.exact&&(n.min=n.max=n.exact);const o=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==n.ideal){t.optional=t.optional||[];let e={};"number"===typeof n.ideal?(e[o("min",r)]=n.ideal,t.optional.push(e),e={},e[o("max",r)]=n.ideal,t.optional.push(e)):(e[o("",r)]=n.ideal,t.optional.push(e))}void 0!==n.exact&&"number"!==typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[o("",r)]=n.exact):["min","max"].forEach(e=>{void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[o(e,r)]=n[e])})}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},o=function(e,o){if(r.version>=61)return o(e);if(e=JSON.parse(JSON.stringify(e)),e&&"object"===typeof e.audio){const t=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])};e=JSON.parse(JSON.stringify(e)),t(e.audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=n(e.audio)}if(e&&"object"===typeof e.video){let i=e.video.facingMode;i=i&&("object"===typeof i?i:{ideal:i});const a=r.version<66;if(i&&("user"===i.exact||"environment"===i.exact||"user"===i.ideal||"environment"===i.ideal)&&(!t.mediaDevices.getSupportedConstraints||!t.mediaDevices.getSupportedConstraints().facingMode||a)){let r;if(delete e.video.facingMode,"environment"===i.exact||"environment"===i.ideal?r=["back","rear"]:"user"!==i.exact&&"user"!==i.ideal||(r=["front"]),r)return t.mediaDevices.enumerateDevices().then(t=>{t=t.filter(e=>"videoinput"===e.kind);let a=t.find(e=>r.some(t=>e.label.toLowerCase().includes(t)));return!a&&t.length&&r.includes("back")&&(a=t[t.length-1]),a&&(e.video.deviceId=i.exact?{exact:a.deviceId}:{ideal:a.deviceId}),e.video=n(e.video),T("chrome: "+JSON.stringify(e)),o(e)})}e.video=n(e.video)}return T("chrome: "+JSON.stringify(e)),o(e)},i=function(e){return r.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},a=function(e,r,n){o(e,e=>{t.webkitGetUserMedia(e,r,e=>{n&&n(i(e))})})};if(t.getUserMedia=a.bind(t),t.mediaDevices.getUserMedia){const e=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(t){return o(t,t=>e(t).then(e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(e=>{e.stop()}),new DOMException("","NotFoundError");return e},e=>Promise.reject(i(e))))}}}function R(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"===typeof t?e.navigator.mediaDevices.getDisplayMedia=function(r){return t(r).then(t=>{const n=r.video&&r.video.width,o=r.video&&r.video.height,i=r.video&&r.video.frameRate;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:i||3}},n&&(r.video.mandatory.maxWidth=n),o&&(r.video.mandatory.maxHeight=o),e.navigator.mediaDevices.getUserMedia(r)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}function b(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function E(e){if("object"===typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",r=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===r.track.id):{track:r.track};const o=new Event("track");o.track=r.track,o.receiver=n,o.transceiver={receiver:n},o.streams=[t.stream],this.dispatchEvent(o)}),t.stream.getTracks().forEach(r=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===r.id):{track:r};const o=new Event("track");o.track=r,o.receiver=n,o.transceiver={receiver:n},o.streams=[t.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else f(e,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function x(e){if("object"===typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const r=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){let o=r.apply(this,arguments);return o||(o=t(this,e),this._senders.push(o)),o};const n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){n.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach(e=>{this._senders.push(t(this,e))})};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach(e=>{const t=this._senders.find(t=>t.track===e);t&&this._senders.splice(this._senders.indexOf(t),1)})}}else if("object"===typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function P(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,r,n]=arguments;if(arguments.length>0&&"function"===typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!==typeof e))return t.apply(this,[]);const o=function(e){const t={},r=e.result();return r.forEach(e=>{const r={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(t=>{r[t]=e.stat(t)}),t[r.id]=r}),t},i=function(e){return new Map(Object.keys(e).map(t=>[t,e[t]]))};if(arguments.length>=2){const n=function(e){r(i(o(e)))};return t.apply(this,[n,e])}return new Promise((e,r)=>{t.apply(this,[function(t){e(i(o(t)))},r])}).then(r,n)}}function w(e){if(!("object"===typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then(t=>_(t,e.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),f(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then(t=>_(t,e.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype)||!("getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,r,n;return this.getSenders().forEach(r=>{r.track===e&&(t?n=!0:t=r)}),this.getReceivers().forEach(t=>(t.track===e&&(r?n=!0:r=t),t.track===e)),n||t&&r?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():r?r.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function D(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(e=>this._shimmedLocalStreams[e][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){if(!r)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const n=t.apply(this,arguments);return this._shimmedLocalStreams[r.id]?-1===this._shimmedLocalStreams[r.id].indexOf(n)&&this._shimmedLocalStreams[r.id].push(n):this._shimmedLocalStreams[r.id]=[r,n],n};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(e=>{const t=this.getSenders().find(t=>t.track===e);if(t)throw new DOMException("Track already exists.","InvalidAccessError")});const t=this.getSenders();r.apply(this,arguments);const n=this.getSenders().filter(e=>-1===t.indexOf(e));this._shimmedLocalStreams[e.id]=[e].concat(n)};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};const o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach(t=>{const r=this._shimmedLocalStreams[t].indexOf(e);-1!==r&&this._shimmedLocalStreams[t].splice(r,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]}),o.apply(this,arguments)}}function O(e){if(!e.RTCPeerConnection)return;const t=m(e);if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return D(e);const r=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=r.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map(e=>this._reverseStreams[e.id])};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach(e=>{const t=this.getSenders().find(t=>t.track===e);if(t)throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[t.id]){const r=new e.MediaStream(t.getTracks());this._streams[t.id]=r,this._reverseStreams[r.id]=t,t=r}n.apply(this,[t])};const o=e.RTCPeerConnection.prototype.removeStream;function i(e,t){let r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{const n=e._reverseStreams[t],o=e._streams[n.id];r=r.replace(new RegExp(o.id,"g"),n.id)}),new RTCSessionDescription({type:t.type,sdp:r})}function a(e,t){let r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{const n=e._reverseStreams[t],o=e._streams[n.id];r=r.replace(new RegExp(n.id,"g"),o.id)}),new RTCSessionDescription({type:t.type,sdp:r})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},o.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,r){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const n=[].slice.call(arguments,1);if(1!==n.length||!n[0].getTracks().find(e=>e===t))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");const o=this.getSenders().find(e=>e.track===t);if(o)throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const i=this._streams[r.id];if(i)i.addTrack(t),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const n=new e.MediaStream([t]);this._streams[r.id]=n,this._reverseStreams[n.id]=r,this.addStream(n)}return this.getSenders().find(e=>e.track===t)},["createOffer","createAnswer"].forEach((function(t){const r=e.RTCPeerConnection.prototype[t],n={[t](){const e=arguments,t=arguments.length&&"function"===typeof arguments[0];return t?r.apply(this,[t=>{const r=i(this,t);e[0].apply(null,[r])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):r.apply(this,arguments).then(e=>i(this,e))}};e.RTCPeerConnection.prototype[t]=n[t]}));const s=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=a(this,arguments[0]),s.apply(this,arguments)):s.apply(this,arguments)};const c=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const e=c.get.apply(this);return""===e.type?e:i(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");const t=e._pc===this;if(!t)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let r;this._streams=this._streams||{},Object.keys(this._streams).forEach(t=>{const n=this._streams[t].getTracks().find(t=>e.track===t);n&&(r=this._streams[t])}),r&&(1===r.getTracks().length?this.removeStream(this._reverseStreams[r.id]):r.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function A(e){const t=m(e);if(!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),!e.RTCPeerConnection)return;const r=0===e.RTCPeerConnection.prototype.addIceCandidate.length;t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const r=e.RTCPeerConnection.prototype[t],n={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=n[t]}));const n=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return r||arguments[0]?t.version<78&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}function k(e){const t=m(e);f(e,"negotiationneeded",e=>{const r=e.target;if(!(t.version<72||r.getConfiguration&&"plan-b"===r.getConfiguration().sdpSemantics)||"stable"===r.signalingState)return e})}function I(e,t){let r=!1;return e=JSON.parse(JSON.stringify(e)),e.filter(e=>{if(e&&(e.urls||e.url)){let t=e.urls||e.url;e.url&&!e.urls&&v("RTCIceServer.url","RTCIceServer.urls");const n="string"===typeof t;return n&&(t=[t]),t=t.filter(e=>{if(0===e.indexOf("stun:"))return!1;const t=e.startsWith("turn")&&!e.startsWith("turn:[")&&e.includes("transport=udp");return t&&!r?(r=!0,!0):t&&!r}),delete e.url,e.urls=n?t[0]:t,!!t.length}})}var M=r("f03d"),j=r.n(M);function N(e){const t=e&&e.navigator,r=function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString(){return this.name}}},n=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return n(e).catch(e=>Promise.reject(r(e)))}}function L(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}function z(e){const t=m(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){const t=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set(e){t.set.call(this,e);const r=new Event("enabled");r.enabled=e,this.dispatchEvent(r)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);const r=j()(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=I(e.iceServers,t.version),h("ICE servers after filtering:",e.iceServers)),new r(e)},e.RTCPeerConnection.prototype=r.prototype}function U(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}function F(e){const t=m(e),r=e&&e.navigator,n=e&&e.MediaStreamTrack;if(r.getUserMedia=function(e,t,n){v("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(e).then(t,n)},!(t.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){const e=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])},t=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(r){return"object"===typeof r&&"object"===typeof r.audio&&(r=JSON.parse(JSON.stringify(r)),e(r.audio,"autoGainControl","mozAutoGainControl"),e(r.audio,"noiseSuppression","mozNoiseSuppression")),t(r)},n&&n.prototype.getSettings){const t=n.prototype.getSettings;n.prototype.getSettings=function(){const r=t.apply(this,arguments);return e(r,"mozAutoGainControl","autoGainControl"),e(r,"mozNoiseSuppression","noiseSuppression"),r}}if(n&&n.prototype.applyConstraints){const t=n.prototype.applyConstraints;n.prototype.applyConstraints=function(r){return"audio"===this.kind&&"object"===typeof r&&(r=JSON.parse(JSON.stringify(r)),e(r,"autoGainControl","mozAutoGainControl"),e(r,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[r])}}}}function G(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!r||!r.video){const e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===r.video?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}function W(e){"object"===typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function B(e){const t=m(e);if("object"!==typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;if(!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const r=e.RTCPeerConnection.prototype[t],n={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=n[t]})),t.version<68){const t=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?arguments[0]&&""===arguments[0].candidate?Promise.resolve():t.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}const r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,o,i]=arguments;return n.apply(this,[e||null]).then(e=>{if(t.version<53&&!o)try{e.forEach(e=>{e.type=r[e.type]||e.type})}catch(n){if("TypeError"!==n.name)throw n;e.forEach((t,n)=>{e.set(n,Object.assign({},t,{type:r[t.type]||t.type}))})}return e}).then(o,i)}}function V(e){if("object"!==typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function H(e){if("object"!==typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),f(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function q(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){v("removeStream","removeTrack"),this.getSenders().forEach(t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)})})}function J(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function X(e){if("object"!==typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const e=arguments[1],r=e&&"sendEncodings"in e;r&&e.sendEncodings.forEach(e=>{if("rid"in e){const t=/^[a-z0-9]{0,16}$/i;if(!t.test(e.rid))throw new TypeError("Invalid RID value provided.")}if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const n=t.apply(this,arguments);if(r){const{sender:t}=n,r=t.getParameters();(!("encodings"in r)||1===r.encodings.length&&0===Object.keys(r.encodings[0]).length)&&(r.encodings=e.sendEncodings,t.sendEncodings=e.sendEncodings,this.setParametersPromises.push(t.setParameters(r).then(()=>{delete t.sendEncodings}).catch(()=>{delete t.sendEncodings})))}return n})}function K(e){if("object"!==typeof e||!e.RTCRtpSender)return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function $(e){if("object"!==typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function Y(e){if("object"!==typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function Q(e){if("object"===typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach(r=>t.call(this,r,e)),e.getVideoTracks().forEach(r=>t.call(this,r,e))},e.RTCPeerConnection.prototype.addTrack=function(e,...r){return r&&r.forEach(e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const r=e.getTracks();this.getSenders().forEach(e=>{r.includes(e.track)&&this.removeTrack(e)})})}}function Z(e){if("object"===typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach(e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);const t=new Event("addstream");t.stream=e,this.dispatchEvent(t)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach(t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const r=new Event("addstream");r.stream=t,e.dispatchEvent(r)})}),t.apply(e,arguments)}}}function ee(e){if("object"!==typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,r=t.createOffer,n=t.createAnswer,o=t.setLocalDescription,i=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],o=r.apply(this,[n]);return t?(o.then(e,t),Promise.resolve()):o},t.createAnswer=function(e,t){const r=arguments.length>=2?arguments[2]:arguments[0],o=n.apply(this,[r]);return t?(o.then(e,t),Promise.resolve()):o};let s=function(e,t,r){const n=o.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n};t.setLocalDescription=s,s=function(e,t,r){const n=i.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.setRemoteDescription=s,s=function(e,t,r){const n=a.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.addIceCandidate=s}function te(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,r=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>r(re(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,r,n){t.mediaDevices.getUserMedia(e).then(r,n)}.bind(t))}function re(e){return e&&void 0!==e.video?Object.assign({},e,{video:y(e.video)}):e}function ne(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,r){if(e&&e.iceServers){const t=[];for(let r=0;r<e.iceServers.length;r++){let n=e.iceServers[r];!n.hasOwnProperty("urls")&&n.hasOwnProperty("url")?(v("RTCIceServer.url","RTCIceServer.urls"),n=JSON.parse(JSON.stringify(n)),n.urls=n.url,delete n.url,t.push(n)):t.push(e.iceServers[r])}e.iceServers=t}return new t(e,r)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function oe(e){"object"===typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function ie(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){"undefined"!==typeof e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find(e=>"audio"===e.receiver.track.kind);!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio"),"undefined"!==typeof e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const r=this.getTransceivers().find(e=>"video"===e.receiver.track.kind);!1===e.offerToReceiveVideo&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveVideo||r||this.addTransceiver("video")}return t.apply(this,arguments)}}function ae(e){"object"!==typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var se=r("282b"),ce=r.n(se);function ue(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"===typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&(e=JSON.parse(JSON.stringify(e)),e.candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){const r=new t(e),n=ce.a.parseCandidate(e.candidate),o=Object.assign(r,n);return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,f(e,"icecandidate",t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t))}function de(e){if(!e.RTCPeerConnection)return;const t=m(e);"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return"undefined"===typeof this._sctp?null:this._sctp}});const r=function(e){if(!e||!e.sdp)return!1;const t=ce.a.splitSections(e.sdp);return t.shift(),t.some(e=>{const t=ce.a.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")})},n=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;const r=parseInt(t[1],10);return r!==r?-1:r},o=function(e){let r=65536;return"firefox"===t.browser&&(r=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),r},i=function(e,r){let n=65536;"firefox"===t.browser&&57===t.version&&(n=65535);const o=ce.a.matchPrefix(e.sdp,"a=max-message-size:");return o.length>0?n=parseInt(o[0].substr(19),10):"firefox"===t.browser&&-1!==r&&(n=2147483637),n},a=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){const{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return"undefined"===typeof this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(r(arguments[0])){const e=n(arguments[0]),t=o(e),r=i(arguments[0],e);let a;a=0===t&&0===r?Number.POSITIVE_INFINITY:0===t||0===r?Math.max(t,r):Math.min(t,r);const s={};Object.defineProperty(s,"maxMessageSize",{get(){return a}}),this._sctp=s}return a.apply(this,arguments)}}function fe(e){if(!e.RTCPeerConnection||!("createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){const r=e.send;e.send=function(){const n=arguments[0],o=n.length||n.size||n.byteLength;if("open"===e.readyState&&t.sctp&&o>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return r.apply(e,arguments)}}const r=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=r.apply(this,arguments);return t(e,this),e},f(e,"datachannel",e=>(t(e.channel,e.target),e))}function pe(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(e=>{const r=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const r=new Event("connectionstatechange",e);t.dispatchEvent(r)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function le(e){if(!e.RTCPeerConnection)return;const t=m(e);if("chrome"===t.browser&&t.version>=71)return;if("safari"===t.browser&&t.version>=605)return;const r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(e){return e&&e.sdp&&-1!==e.sdp.indexOf("\na=extmap-allow-mixed")&&(e.sdp=e.sdp.split("\n").filter(e=>"a=extmap-allow-mixed"!==e.trim()).join("\n")),r.apply(this,arguments)}}function he({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0}){const r=h,c=m(e),u={browserDetails:c,commonShim:s,extractVersion:d,disableLog:p,disableWarnings:l};switch(c.browser){case"chrome":if(!n||!A||!t.shimChrome)return r("Chrome shim is not included in this adapter release."),u;if(null===c.version)return r("Chrome shim can not determine version, not shimming."),u;r("adapter.js shimming chrome."),u.browserShim=n,S(e),b(e),A(e),E(e),O(e),x(e),P(e),w(e),k(e),ue(e),pe(e),de(e),fe(e),le(e);break;case"firefox":if(!i||!B||!t.shimFirefox)return r("Firefox shim is not included in this adapter release."),u;r("adapter.js shimming firefox."),u.browserShim=i,F(e),B(e),W(e),q(e),V(e),H(e),J(e),X(e),K(e),$(e),Y(e),ue(e),pe(e),de(e),fe(e);break;case"edge":if(!o||!z||!t.shimEdge)return r("MS edge shim is not included in this adapter release."),u;r("adapter.js shimming edge."),u.browserShim=o,N(e),L(e),z(e),U(e),de(e),fe(e);break;case"safari":if(!a||!t.shimSafari)return r("Safari shim is not included in this adapter release."),u;r("adapter.js shimming safari."),u.browserShim=a,ne(e),ie(e),ee(e),Q(e),Z(e),oe(e),te(e),ae(e),ue(e),de(e),fe(e),le(e);break;default:r("Unsupported browser!");break}return u}he({window:"undefined"===typeof window?void 0:window});var ve=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},me=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"viewport scanner",attrs:{id:"interactive"}},[r("video"),r("canvas",{staticClass:"drawingBuffer"})])}],ge=r("8a00"),ye=r.n(ge),Ce={name:"QuaggaScanner",props:{onDetected:{type:Function,default:function(e){console.log("detected: ",e)}},onProcessed:{type:Function,default:function(e){var t=ye.a.canvas.ctx.overlay,r=ye.a.canvas.dom.overlay;e&&(e.boxes&&(t.clearRect(0,0,parseInt(r.getAttribute("width")),parseInt(r.getAttribute("height"))),e.boxes.filter((function(t){return t!==e.box})).forEach((function(e){ye.a.ImageDebug.drawPath(e,{x:0,y:1},t,{color:"green",lineWidth:2})}))),e.box&&ye.a.ImageDebug.drawPath(e.box,{x:0,y:1},t,{color:"#00F",lineWidth:2}),e.codeResult&&e.codeResult.code&&ye.a.ImageDebug.drawPath(e.line,{x:"x",y:"y"},t,{color:"red",lineWidth:3}))}},readerTypes:{type:Array,default:function(){return["code_128_reader"]}},readerSize:{type:Object,default:function(){return{width:640,height:480}},validator:function(e){return"number"===typeof e.width&&"number"===typeof e.height}},aspectRatio:{type:Object,default:function(){return{min:1,max:2}},validator:function(e){return"number"===typeof e.min&&"number"===typeof e.max}}},data:function(){return{quaggaState:{inputStream:{type:"LiveStream",constraints:{width:{min:this.readerSize.width},height:{min:this.readerSize.height},facingMode:"environment",aspectRatio:{min:1,max:2}}},locator:{patchSize:"medium",halfSample:!0},numOfWorkers:2,frequency:10,decoder:{readers:this.readerTypes},locate:!0}}},watch:{onDetected:function(e,t){e&&ye.a.offDetected(e),t&&ye.a.onDetected(t)},onProcessed:function(e,t){e&&ye.a.offProcessed(e),t&&ye.a.onProcessed(t)}},mounted:function(){ye.a.init(this.quaggaState,(function(e){if(e)return console.error(e);ye.a.start()})),ye.a.onDetected(this.onDetected),ye.a.onProcessed(this.onProcessed)},destroyed:function(){this.onDetected&&ye.a.offDetected(this.onDetected),this.onProcessed&&ye.a.offProcessed(this.offProcessed),ye.a.stop()}},_e=Ce,Te=(r("a5b9"),r("2877")),Se=Object(Te["a"])(_e,ve,me,!1,null,"54df6e7e",null),Re=Se.exports;t["a"]={install:function(e,t){e.component("v-quagga",Re)}}},"8a00":function(e,t,r){!function(t,r){e.exports=r(r.toString()).default}(0,(function(e){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=166)}([function(e,t){function r(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=r},function(e,t,r){"use strict";function n(e,t){return this._row=[],this.config=e||{},this.supplements=t,this}var o=r(3);n.prototype._nextUnset=function(e,t){var r;for(void 0===t&&(t=0),r=t;r<e.length;r++)if(!e[r])return r;return e.length},n.prototype._matchPattern=function(e,t,r){var n,o,i,a,s=0,c=0,u=0,d=0;for(r=r||this.SINGLE_CODE_ERROR||1,n=0;n<e.length;n++)u+=e[n],d+=t[n];if(u<d)return Number.MAX_VALUE;for(o=u/d,r*=o,n=0;n<e.length;n++){if(i=e[n],a=t[n]*o,(c=Math.abs(i-a)/a)>r)return Number.MAX_VALUE;s+=c}return s/d},n.prototype._nextSet=function(e,t){var r;for(t=t||0,r=t;r<e.length;r++)if(e[r])return r;return e.length},n.prototype._correctBars=function(e,t,r){for(var n=r.length,o=0;n--;)(o=e[r[n]]*(1-(1-t)/2))>1&&(e[r[n]]=o)},n.prototype._matchTrace=function(e,t){var r,n,o=[],i=this,a=i._nextSet(i._row),s=!i._row[a],c=0,u={error:Number.MAX_VALUE,code:-1,start:0};if(e){for(r=0;r<e.length;r++)o.push(0);for(r=a;r<i._row.length;r++)if(i._row[r]^s)o[c]++;else{if(c===o.length-1)return n=i._matchPattern(o,e),n<t?(u.start=r-a,u.end=r,u.counter=o,u):null;c++,o[c]=1,s=!s}}else for(o.push(0),r=a;r<i._row.length;r++)i._row[r]^s?o[c]++:(c++,o.push(0),o[c]=1,s=!s);return u.start=a,u.end=i._row.length-1,u.counter=o,u},n.prototype.decodePattern=function(e){var t,r=this;return r._row=e,t=r._decode(),null===t?(r._row.reverse(),(t=r._decode())&&(t.direction=n.DIRECTION.REVERSE,t.start=r._row.length-t.start,t.end=r._row.length-t.end)):t.direction=n.DIRECTION.FORWARD,t&&(t.format=r.FORMAT),t},n.prototype._matchRange=function(e,t,r){var n;for(e=e<0?0:e,n=e;n<t;n++)if(this._row[n]!==r)return!1;return!0},n.prototype._fillCounters=function(e,t,r){var n,o=this,i=0,a=[];for(r=void 0===r||r,e=void 0!==e?e:o._nextUnset(o._row),t=t||o._row.length,a[i]=0,n=e;n<t;n++)o._row[n]^r?a[i]++:(i++,a[i]=1,r=!r);return a},n.prototype._toCounters=function(e,t){var r,n=this,i=t.length,a=n._row.length,s=!n._row[e],c=0;for(o.a.init(t,0),r=e;r<a;r++)if(n._row[r]^s)t[c]++;else{if(++c===i)break;t[c]=1,s=!s}return t},Object.defineProperty(n.prototype,"FORMAT",{value:"unknown",writeable:!1}),n.DIRECTION={FORWARD:1,REVERSE:-1},n.Exception={StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"},n.CONFIG_KEYS={},t.a=n},function(e,t){var r=Array.isArray;e.exports=r},function(e,t,r){"use strict";t.a={init:function(e,t){for(var r=e.length;r--;)e[r]=t},shuffle:function(e){var t,r,n=e.length-1;for(n;n>=0;n--)t=Math.floor(Math.random()*n),r=e[n],e[n]=e[t],e[t]=r;return e},toPointList:function(e){var t,r,n=[],o=[];for(t=0;t<e.length;t++){for(n=[],r=0;r<e[t].length;r++)n[r]=e[t][r];o[t]="["+n.join(",")+"]"}return"["+o.join(",\r\n")+"]"},threshold:function(e,t,r){var n,o=[];for(n=0;n<e.length;n++)r.apply(e,[e[n]])>=t&&o.push(e[n]);return o},maxIndex:function(e){var t,r=0;for(t=0;t<e.length;t++)e[t]>e[r]&&(r=t);return r},max:function(e){var t,r=0;for(t=0;t<e.length;t++)e[t]>r&&(r=e[t]);return r},sum:function(e){for(var t=e.length,r=0;t--;)r+=e[t];return r}}},function(e,t,r){"use strict";function n(e,t){e=a()(o(),e),s.a.call(this,e,t)}function o(){var e={};return Object.keys(n.CONFIG_KEYS).forEach((function(t){e[t]=n.CONFIG_KEYS[t].default})),e}var i=r(28),a=r.n(i),s=r(1),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u={CODE_L_START:{value:0},CODE_G_START:{value:10},START_PATTERN:{value:[1,1,1]},STOP_PATTERN:{value:[1,1,1]},MIDDLE_PATTERN:{value:[1,1,1,1,1]},EXTENSION_START_PATTERN:{value:[1,1,2]},CODE_PATTERN:{value:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]]},CODE_FREQUENCY:{value:[0,11,13,14,19,25,28,21,22,26]},SINGLE_CODE_ERROR:{value:.7},AVG_CODE_ERROR:{value:.48},FORMAT:{value:"ean_13",writeable:!1}};n.prototype=Object.create(s.a.prototype,u),n.prototype.constructor=n,n.prototype._decodeCode=function(e,t){var r,n,o,i=[0,0,0,0],a=this,s=e,c=!a._row[s],u=0,d={error:Number.MAX_VALUE,code:-1,start:e,end:e};for(t||(t=a.CODE_PATTERN.length),r=s;r<a._row.length;r++)if(a._row[r]^c)i[u]++;else{if(u===i.length-1){for(n=0;n<t;n++)(o=a._matchPattern(i,a.CODE_PATTERN[n]))<d.error&&(d.code=n,d.error=o);return d.end=r,d.error>a.AVG_CODE_ERROR?null:d}u++,i[u]=1,c=!c}return null},n.prototype._findPattern=function(e,t,r,n,o){var i,a,s,c,u=[],d=this,f=0,p={error:Number.MAX_VALUE,code:-1,start:0,end:0};for(t||(t=d._nextSet(d._row)),void 0===r&&(r=!1),void 0===n&&(n=!0),void 0===o&&(o=d.AVG_CODE_ERROR),i=0;i<e.length;i++)u[i]=0;for(i=t;i<d._row.length;i++)if(d._row[i]^r)u[f]++;else{if(f===u.length-1){for(c=0,s=0;s<u.length;s++)c+=u[s];if((a=d._matchPattern(u,e))<o)return p.error=a,p.start=i-c,p.end=i,p;if(!n)return null;for(s=0;s<u.length-2;s++)u[s]=u[s+2];u[u.length-2]=0,u[u.length-1]=0,f--}else f++;u[f]=1,r=!r}return null},n.prototype._findStart=function(){for(var e,t,r=this,n=r._nextSet(r._row);!t;){if(!(t=r._findPattern(r.START_PATTERN,n)))return null;if((e=t.start-(t.end-t.start))>=0&&r._matchRange(e,t.start,0))return t;n=t.end,t=null}},n.prototype._verifyTrailingWhitespace=function(e){var t,r=this;return t=e.end+(e.end-e.start),t<r._row.length&&r._matchRange(e.end,t,0)?e:null},n.prototype._findEnd=function(e,t){var r=this,n=r._findPattern(r.STOP_PATTERN,e,t,!1);return null!==n?r._verifyTrailingWhitespace(n):null},n.prototype._calculateFirstDigit=function(e){var t,r=this;for(t=0;t<r.CODE_FREQUENCY.length;t++)if(e===r.CODE_FREQUENCY[t])return t;return null},n.prototype._decodePayload=function(e,t,r){var n,o,i=this,a=0;for(n=0;n<6;n++){if(!(e=i._decodeCode(e.end)))return null;e.code>=i.CODE_G_START?(e.code=e.code-i.CODE_G_START,a|=1<<5-n):a|=0<<5-n,t.push(e.code),r.push(e)}if(null===(o=i._calculateFirstDigit(a)))return null;if(t.unshift(o),null===(e=i._findPattern(i.MIDDLE_PATTERN,e.end,!0,!1)))return null;for(r.push(e),n=0;n<6;n++){if(!(e=i._decodeCode(e.end,i.CODE_G_START)))return null;r.push(e),t.push(e.code)}return e},n.prototype._decode=function(){var e,t,r=this,n=[],o=[],i={};if(!(e=r._findStart()))return null;if(t={code:e.code,start:e.start,end:e.end},o.push(t),!(t=r._decodePayload(t,n,o)))return null;if(!(t=r._findEnd(t.end,!1)))return null;if(o.push(t),!r._checksum(n))return null;if(this.supplements.length>0){var a=this._decodeExtensions(t.end);if(!a)return null;var s=a.decodedCodes[a.decodedCodes.length-1],u={start:s.start+((s.end-s.start)/2|0),end:s.end};if(!r._verifyTrailingWhitespace(u))return null;i={supplement:a,code:n.join("")+a.code}}return c({code:n.join(""),start:e.start,end:t.end,codeset:"",startInfo:e,decodedCodes:o},i)},n.prototype._decodeExtensions=function(e){var t,r,n=this._nextSet(this._row,e),o=this._findPattern(this.EXTENSION_START_PATTERN,n,!1,!1);if(null===o)return null;for(t=0;t<this.supplements.length;t++)if(null!==(r=this.supplements[t].decode(this._row,o.end)))return{code:r.code,start:n,startInfo:o,end:r.end,codeset:"",decodedCodes:r.decodedCodes};return null},n.prototype._checksum=function(e){var t,r=0;for(t=e.length-2;t>=0;t-=2)r+=e[t];for(r*=3,t=e.length-1;t>=0;t-=2)r+=e[t];return r%10==0},n.CONFIG_KEYS={supplements:{type:"arrayOf(string)",default:[],description:"Allowed extensions to be decoded (2 and/or 5)"}},t.a=n},function(e,t,r){var n=r(38),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();e.exports=i},function(e,t){function r(e){return null!=e&&"object"==typeof e}e.exports=r},function(e,t){function r(e){var t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}e.exports=r},function(e,t,r){function n(e){return null==e?void 0===e?c:s:u&&u in Object(e)?i(e):a(e)}var o=r(11),i=r(119),a=r(146),s="[object Null]",c="[object Undefined]",u=o?o.toStringTag:void 0;e.exports=n},function(e,t,r){"use strict";t.a={drawRect:function(e,t,r,n){r.strokeStyle=n.color,r.fillStyle=n.color,r.lineWidth=1,r.beginPath(),r.strokeRect(e.x,e.y,t.x,t.y)},drawPath:function(e,t,r,n){r.strokeStyle=n.color,r.fillStyle=n.color,r.lineWidth=n.lineWidth,r.beginPath(),r.moveTo(e[0][t.x],e[0][t.y]);for(var o=1;o<e.length;o++)r.lineTo(e[o][t.x],e[o][t.y]);r.closePath(),r.stroke()},drawImage:function(e,t,r){var n,o=r.getImageData(0,0,t.x,t.y),i=o.data,a=e.length,s=i.length;if(s/a!=4)return!1;for(;a--;)n=e[a],i[--s]=255,i[--s]=n,i[--s]=n,i[--s]=n;return r.putImageData(o,0,0),!0}}},function(e,t,r){function n(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var o=r(133),i=r(134),a=r(135),s=r(136),c=r(137);n.prototype.clear=o,n.prototype.delete=i,n.prototype.get=a,n.prototype.has=s,n.prototype.set=c,e.exports=n},function(e,t,r){var n=r(5),o=n.Symbol;e.exports=o},function(e,t,r){function n(e,t){for(var r=e.length;r--;)if(o(e[r][0],t))return r;return-1}var o=r(17);e.exports=n},function(e,t,r){function n(e,t){return o(e)?e:i(e,t)?[e]:a(s(e))}var o=r(2),i=r(130),a=r(154),s=r(165);e.exports=n},function(e,t,r){function n(e,t){var r=e.__data__;return o(t)?r["string"==typeof t?"string":"hash"]:r.map}var o=r(131);e.exports=n},function(e,t){function r(e,t){return!!(t=null==t?n:t)&&("number"==typeof e||o.test(e))&&e>-1&&e%1==0&&e<t}var n=9007199254740991,o=/^(?:0|[1-9]\d*)$/;e.exports=r},function(e,t,r){var n=r(22),o=n(Object,"create");e.exports=o},function(e,t){function r(e,t){return e===t||e!==e&&t!==t}e.exports=r},function(e,t,r){var n=r(96),o=r(6),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},function(e,t,r){"use strict";function n(e,t){return{x:e,y:t,toVec2:function(){return T.clone([this.x,this.y])},toVec3:function(){return S.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function o(e,t,r){r||(r=e);for(var n=e.data,o=n.length,i=r.data;o--;)i[o]=n[o]<t?1:0}function i(e,t){t||(t=8);for(var r=e.data,n=r.length,o=8-t,i=1<<t,a=new Int32Array(i);n--;)a[r[n]>>o]++;return a}function a(e,t){function r(e,t){var r,n=0;for(r=e;r<=t;r++)n+=a[r];return n}function n(e,t){var r,n=0;for(r=e;r<=t;r++)n+=r*a[r];return n}function o(){var o,s,c,u,d,f,p,l=[0],h=(1<<t)-1;for(a=i(e,t),u=1;u<h;u++)o=r(0,u),s=r(u+1,h),c=o*s,0===c&&(c=1),d=n(0,u)*s,f=n(u+1,h)*o,p=d-f,l[u]=p*p/c;return _.a.maxIndex(l)}t||(t=8);var a,s=8-t;return o()<<s}function s(e,t){var r=a(e);return o(e,r,t),r}function c(e,t,r){function n(e){var t=!1;for(i=0;i<c.length;i++)a=c[i],a.fits(e)&&(a.add(e),t=!0);return t}var o,i,a,s,c=[];for(r||(r="rad"),o=0;o<e.length;o++)s=C.a.createPoint(e[o],o,r),n(s)||c.push(C.a.create(s,t));return c}function u(e,t,r){var n,o,i,a,s=0,c=0,u=[];for(n=0;n<t;n++)u[n]={score:0,item:null};for(n=0;n<e.length;n++)if((o=r.apply(this,[e[n]]))>c)for(i=u[s],i.score=o,i.item=e[n],c=Number.MAX_VALUE,a=0;a<t;a++)u[a].score<c&&(c=u[a].score,s=a);return u}function d(e,t,r){for(var n,o=0,i=t.x,a=Math.floor(e.length/4),s=t.x/2,c=0,u=t.x;i<a;){for(n=0;n<s;n++)r[c]=(.299*e[4*o+0]+.587*e[4*o+1]+.114*e[4*o+2]+(.299*e[4*(o+1)+0]+.587*e[4*(o+1)+1]+.114*e[4*(o+1)+2])+(.299*e[4*i+0]+.587*e[4*i+1]+.114*e[4*i+2])+(.299*e[4*(i+1)+0]+.587*e[4*(i+1)+1]+.114*e[4*(i+1)+2]))/4,c++,o+=2,i+=2;o+=u,i+=u}}function f(e,t,r){var n,o=e.length/4|0;if(r&&!0===r.singleChannel)for(n=0;n<o;n++)t[n]=e[4*n+0];else for(n=0;n<o;n++)t[n]=.299*e[4*n+0]+.587*e[4*n+1]+.114*e[4*n+2]}function p(e,t){for(var r=e.data,n=e.size.x,o=t.data,i=0,a=n,s=r.length,c=n/2,u=0;a<s;){for(var d=0;d<c;d++)o[u]=Math.floor((r[i]+r[i+1]+r[a]+r[a+1])/4),u++,i+=2,a+=2;i+=n,a+=n}}function l(e,t){var r=e[0],n=e[1],o=e[2],i=o*n,a=i*(1-Math.abs(r/60%2-1)),s=o-i,c=0,u=0,d=0;return t=t||[0,0,0],r<60?(c=i,u=a):r<120?(c=a,u=i):r<180?(u=i,d=a):r<240?(u=a,d=i):r<300?(c=a,d=i):r<360&&(c=i,d=a),t[0]=255*(c+s)|0,t[1]=255*(u+s)|0,t[2]=255*(d+s)|0,t}function h(e){var t,r=[],n=[];for(t=1;t<Math.sqrt(e)+1;t++)e%t==0&&(n.push(t),t!==e/t&&r.unshift(Math.floor(e/t)));return n.concat(r)}function v(e,t){for(var r=0,n=0,o=[];r<e.length&&n<t.length;)e[r]===t[n]?(o.push(e[r]),r++,n++):e[r]>t[n]?n++:r++;return o}function m(e,t){function r(e){for(var t=0,r=e[Math.floor(e.length/2)];t<e.length-1&&e[t]<p;)t++;return t>0&&(r=Math.abs(e[t]-p)>Math.abs(e[t-1]-p)?e[t-1]:e[t]),p/r<c[d+1]/c[d]&&p/r>c[d-1]/c[d]?{x:r,y:r}:null}var n,o=h(t.x),i=h(t.y),a=Math.max(t.x,t.y),s=v(o,i),c=[8,10,15,20,32,60,80],u={"x-small":5,small:4,medium:3,large:2,"x-large":1},d=u[e]||u.medium,f=c[d],p=Math.floor(a/f);return n=r(s),n||(n=r(h(a)))||(n=r(h(p*f))),n}function g(e){return{value:parseFloat(e),unit:(e.indexOf("%"),e.length,"%")}}function y(e,t,r){var n={width:e,height:t},o=Object.keys(r).reduce((function(e,t){var o=r[t],i=g(o),a=R[t](i,n);return e[t]=a,e}),{});return{sx:o.left,sy:o.top,sw:o.right-o.left,sh:o.bottom-o.top}}var C=r(50),_=r(3);t.b=n,t.f=s,t.g=c,t.h=u,t.c=d,t.d=f,t.i=p,t.a=l,t.e=m,t.j=y;var T={clone:r(7)},S={clone:r(83)},R={top:function(e,t){if("%"===e.unit)return Math.floor(t.height*(e.value/100))},right:function(e,t){if("%"===e.unit)return Math.floor(t.width-t.width*(e.value/100))},bottom:function(e,t){if("%"===e.unit)return Math.floor(t.height-t.height*(e.value/100))},left:function(e,t){if("%"===e.unit)return Math.floor(t.width*(e.value/100))}}},function(e,t,r){"use strict";function n(e,t,r,n){t?this.data=t:r?(this.data=new r(e.x*e.y),r===Array&&n&&a.a.init(this.data,0)):(this.data=new Uint8Array(e.x*e.y),Uint8Array===Array&&n&&a.a.init(this.data,0)),this.size=e}var o=r(53),i=r(19),a=r(3),s={clone:r(7)};n.prototype.inImageWithBorder=function(e,t){return e.x>=t&&e.y>=t&&e.x<this.size.x-t&&e.y<this.size.y-t},n.sample=function(e,t,r){var n=Math.floor(t),o=Math.floor(r),i=e.size.x,a=o*e.size.x+n,s=e.data[a+0],c=e.data[a+1],u=e.data[a+i],d=e.data[a+i+1],f=s-c;return t-=n,r-=o,Math.floor(t*(r*(f-u+d)-f)+r*(u-s)+s)},n.clearArray=function(e){for(var t=e.length;t--;)e[t]=0},n.prototype.subImage=function(e,t){return new o.a(e,t,this)},n.prototype.subImageAsCopy=function(e,t){var r,n,o=e.size.y,i=e.size.x;for(r=0;r<i;r++)for(n=0;n<o;n++)e.data[n*i+r]=this.data[(t.y+n)*this.size.x+t.x+r]},n.prototype.copyTo=function(e){for(var t=this.data.length,r=this.data,n=e.data;t--;)n[t]=r[t]},n.prototype.get=function(e,t){return this.data[t*this.size.x+e]},n.prototype.getSafe=function(e,t){var r;if(!this.indexMapping){for(this.indexMapping={x:[],y:[]},r=0;r<this.size.x;r++)this.indexMapping.x[r]=r,this.indexMapping.x[r+this.size.x]=r;for(r=0;r<this.size.y;r++)this.indexMapping.y[r]=r,this.indexMapping.y[r+this.size.y]=r}return this.data[this.indexMapping.y[t+this.size.y]*this.size.x+this.indexMapping.x[e+this.size.x]]},n.prototype.set=function(e,t,r){return this.data[t*this.size.x+e]=r,this},n.prototype.zeroBorder=function(){var e,t=this.size.x,r=this.size.y,n=this.data;for(e=0;e<t;e++)n[e]=n[(r-1)*t+e]=0;for(e=1;e<r-1;e++)n[e*t]=n[e*t+(t-1)]=0},n.prototype.invert=function(){for(var e=this.data,t=e.length;t--;)e[t]=e[t]?0:1},n.prototype.convolve=function(e){var t,r,n,o,i=e.length/2|0,a=0;for(r=0;r<this.size.y;r++)for(t=0;t<this.size.x;t++){for(a=0,o=-i;o<=i;o++)for(n=-i;n<=i;n++)a+=e[o+i][n+i]*this.getSafe(t+n,r+o);this.data[r*this.size.x+t]=a}},n.prototype.moments=function(e){var t,r,n,o,i,a,c,u,d,f,p,l,h=this.data,v=this.size.y,m=this.size.x,g=[],y=[],C=Math.PI,_=C/4;if(e<=0)return y;for(i=0;i<e;i++)g[i]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(r=0;r<v;r++)for(o=r*r,t=0;t<m;t++)(n=h[r*m+t])>0&&(a=g[n-1],a.m00+=1,a.m01+=r,a.m10+=t,a.m11+=t*r,a.m02+=o,a.m20+=t*t);for(i=0;i<e;i++)a=g[i],isNaN(a.m00)||0===a.m00||(f=a.m10/a.m00,p=a.m01/a.m00,c=a.m11/a.m00-f*p,u=a.m02/a.m00-p*p,d=a.m20/a.m00-f*f,l=(u-d)/(2*c),l=.5*Math.atan(l)+(c>=0?_:-_)+C,a.theta=(180*l/C+90)%180-90,a.theta<0&&(a.theta+=180),a.rad=l>C?l-C:l,a.vec=s.clone([Math.cos(l),Math.sin(l)]),y.push(a));return y},n.prototype.show=function(e,t){var r,n,o,i,a,s,c;for(t||(t=1),r=e.getContext("2d"),e.width=this.size.x,e.height=this.size.y,n=r.getImageData(0,0,e.width,e.height),o=n.data,i=0,c=0;c<this.size.y;c++)for(s=0;s<this.size.x;s++)a=c*this.size.x+s,i=this.get(s,c)*t,o[4*a+0]=i,o[4*a+1]=i,o[4*a+2]=i,o[4*a+3]=255;r.putImageData(n,0,0)},n.prototype.overlay=function(e,t,n){(!t||t<0||t>360)&&(t=360);for(var o=[0,1,1],a=[0,0,0],s=[255,255,255],c=[0,0,0],u=[],d=e.getContext("2d"),f=d.getImageData(n.x,n.y,this.size.x,this.size.y),p=f.data,l=this.data.length;l--;)o[0]=this.data[l]*t,u=o[0]<=0?s:o[0]>=360?c:r.i(i.a)(o,a),p[4*l+0]=u[0],p[4*l+1]=u[1],p[4*l+2]=u[2],p[4*l+3]=255;d.putImageData(f,n.x,n.y)},t.a=n},function(e,t,r){function n(e,t,r){"__proto__"==t&&o?o(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var o=r(37);e.exports=n},function(e,t,r){function n(e,t){var r=i(e,t);return o(r)?r:void 0}var o=r(97),i=r(120);e.exports=n},function(e,t,r){function n(e){if("string"==typeof e||o(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}var o=r(27),i=1/0;e.exports=n},function(e,t,r){function n(e){return null!=e&&i(e.length)&&!o(e)}var o=r(25),i=r(26);e.exports=n},function(e,t,r){function n(e){if(!i(e))return!1;var t=o(e);return t==s||t==c||t==a||t==u}var o=r(8),i=r(0),a="[object AsyncFunction]",s="[object Function]",c="[object GeneratorFunction]",u="[object Proxy]";e.exports=n},function(e,t){function r(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}var n=9007199254740991;e.exports=r},function(e,t,r){function n(e){return"symbol"==typeof e||i(e)&&o(e)==a}var o=r(8),i=r(6),a="[object Symbol]";e.exports=n},function(e,t,r){var n=r(100),o=r(116),i=o((function(e,t,r){n(e,t,r)}));e.exports=i},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";var n={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(e,t){function r(e,t,r,n){var o,d,f;for(o=0;o<7;o++){if(d=e.cy+c[e.dir][0],f=e.cx+c[e.dir][1],i=d*u+f,a[i]===t&&(0===s[i]||s[i]===r))return s[i]=r,e.cy=d,e.cx=f,!0;0===s[i]&&(s[i]=n),e.dir=(e.dir+1)%8}return!1}function n(e,t,r){return{dir:r,x:e,y:t,next:null,prev:null}}function o(e,t,o,i,a){var s,c,u,d=null,f={cx:t,cy:e,dir:0};if(r(f,i,o,a)){d=n(t,e,f.dir),s=d,u=f.dir,c=n(f.cx,f.cy,0),c.prev=s,s.next=c,c.next=null,s=c;do{f.dir=(f.dir+6)%8,r(f,i,o,a),u!==f.dir?(s.dir=f.dir,c=n(f.cx,f.cy,0),c.prev=s,s.next=c,c.next=null,s=c):(s.dir=u,s.x=f.cx,s.y=f.cy),u=f.dir}while(f.cx!==t||f.cy!==e);d.prev=s.prev,s.prev.next=d}return d}var i,a=e.data,s=t.data,c=this.searchDirections,u=e.size.x;return{trace:function(e,t,n,o){return r(e,t,n,o)},contourTracing:function(e,t,r,n,i){return o(e,t,r,n,i)}}}};t.a=n},function(e,t,r){"use strict";function n(){o.a.call(this)}var o=r(1),i=r(3),a={ALPHABETH_STRING:{value:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%"},ALPHABET:{value:[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,45,46,32,42,36,47,43,37]},CHARACTER_ENCODINGS:{value:[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]},ASTERISK:{value:148},FORMAT:{value:"code_39",writeable:!1}};n.prototype=Object.create(o.a.prototype,a),n.prototype.constructor=n,n.prototype._decode=function(){var e,t,r,n,o=this,a=[0,0,0,0,0,0,0,0,0],s=[],c=o._findStart();if(!c)return null;n=o._nextSet(o._row,c.end);do{if(a=o._toCounters(n,a),(r=o._toPattern(a))<0)return null;if((e=o._patternToChar(r))<0)return null;s.push(e),t=n,n+=i.a.sum(a),n=o._nextSet(o._row,n)}while("*"!==e);return s.pop(),s.length&&o._verifyTrailingWhitespace(t,n,a)?{code:s.join(""),start:c.start,end:n,startInfo:c,decodedCodes:s}:null},n.prototype._verifyTrailingWhitespace=function(e,t,r){var n=i.a.sum(r);return 3*(t-e-n)>=n},n.prototype._patternToChar=function(e){var t,r=this;for(t=0;t<r.CHARACTER_ENCODINGS.length;t++)if(r.CHARACTER_ENCODINGS[t]===e)return String.fromCharCode(r.ALPHABET[t]);return-1},n.prototype._findNextWidth=function(e,t){var r,n=Number.MAX_VALUE;for(r=0;r<e.length;r++)e[r]<n&&e[r]>t&&(n=e[r]);return n},n.prototype._toPattern=function(e){for(var t,r,n=e.length,o=0,i=n,a=0,s=this;i>3;){for(o=s._findNextWidth(e,o),i=0,t=0,r=0;r<n;r++)e[r]>o&&(t|=1<<n-1-r,i++,a+=e[r]);if(3===i){for(r=0;r<n&&i>0;r++)if(e[r]>o&&(i--,2*e[r]>=a))return-1;return t}}return-1},n.prototype._findStart=function(){var e,t,r,n=this,o=n._nextSet(n._row),i=o,a=[0,0,0,0,0,0,0,0,0],s=0,c=!1;for(e=o;e<n._row.length;e++)if(n._row[e]^c)a[s]++;else{if(s===a.length-1){if(n._toPattern(a)===n.ASTERISK&&(r=Math.floor(Math.max(0,i-(e-i)/4)),n._matchRange(r,i,0)))return{start:i,end:e};for(i+=a[0]+a[1],t=0;t<7;t++)a[t]=a[t+2];a[7]=0,a[8]=0,s--}else s++;a[s]=1,c=!c}return null},t.a=n},function(e,t){function r(e,t){return e[0]*t[0]+e[1]*t[1]}e.exports=r},function(e,t,r){var n=r(22),o=r(5),i=n(o,"Map");e.exports=i},function(e,t,r){function n(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var o=r(138),i=r(139),a=r(140),s=r(141),c=r(142);n.prototype.clear=o,n.prototype.delete=i,n.prototype.get=a,n.prototype.has=s,n.prototype.set=c,e.exports=n},function(e,t,r){function n(e,t,r){(void 0===r||i(e[t],r))&&(void 0!==r||t in e)||o(e,t,r)}var o=r(21),i=r(17);e.exports=n},function(e,t,r){function n(e,t,r){var n=e[t];s.call(e,t)&&i(n,r)&&(void 0!==r||t in e)||o(e,t,r)}var o=r(21),i=r(17),a=Object.prototype,s=a.hasOwnProperty;e.exports=n},function(e,t,r){var n=r(22),o=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(t,r(47))},function(e,t,r){var n=r(147),o=n(Object.getPrototypeOf,Object);e.exports=o},function(e,t){function r(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}var n=Object.prototype;e.exports=r},function(e,t,r){function n(e,t,r){return t=i(void 0===t?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=i(n.length-t,0),c=Array(s);++a<s;)c[a]=n[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=n[a];return u[t]=r(c),o(e,this,u)}}var o=r(87),i=Math.max;e.exports=n},function(e,t,r){var n=r(106),o=r(148),i=o(n);e.exports=i},function(e,t){function r(e){return e}e.exports=r},function(e,t,r){(function(e){var n=r(5),o=r(163),i="object"==typeof t&&t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i,c=s?n.Buffer:void 0,u=c?c.isBuffer:void 0,d=u||o;e.exports=d}).call(t,r(29)(e))},function(e,t,r){var n=r(98),o=r(109),i=r(145),a=i&&i.isTypedArray,s=a?o(a):n;e.exports=s},function(e,t,r){function n(e){return a(e)?o(e,!0):i(e)}var o=r(88),i=r(99),a=r(24);e.exports=n},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(t,r,n){"use strict";function o(e){d(e),A=z.a.create(Y.decoder,D)}function i(e){var t;if("VideoStream"===Y.inputStream.type)t=document.createElement("video"),x=V.a.createVideoStream(t);else if("ImageStream"===Y.inputStream.type)x=V.a.createImageStream();else if("LiveStream"===Y.inputStream.type){var r=a();r&&((t=r.querySelector("video"))||(t=document.createElement("video"),r.appendChild(t))),x=V.a.createLiveStream(t),F.a.request(t,Y.inputStream.constraints).then((function(){x.trigger("canrecord")})).catch((function(t){return e(t)}))}x.setAttribute("preload","auto"),x.setInputStream(Y.inputStream),x.addEventListener("canrecord",s.bind(void 0,e))}function a(){var e=Y.inputStream.target;if(e&&e.nodeName&&1===e.nodeType)return e;var t="string"==typeof e?e:"#interactive.viewport";return document.querySelector(t)}function s(e){L.a.checkImageConstraints(x,Y.locator),u(Y),P=H.a.create(x,X.dom.image),E(Y.numOfWorkers,(function(){0===Y.numOfWorkers&&o(),c(e)}))}function c(e){x.play(),e()}function u(){if("undefined"!=typeof document){var e=a();if(X.dom.image=document.querySelector("canvas.imgBuffer"),X.dom.image||(X.dom.image=document.createElement("canvas"),X.dom.image.className="imgBuffer",e&&"ImageStream"===Y.inputStream.type&&e.appendChild(X.dom.image)),X.ctx.image=X.dom.image.getContext("2d"),X.dom.image.width=x.getCanvasSize().x,X.dom.image.height=x.getCanvasSize().y,X.dom.overlay=document.querySelector("canvas.drawingBuffer"),!X.dom.overlay){X.dom.overlay=document.createElement("canvas"),X.dom.overlay.className="drawingBuffer",e&&e.appendChild(X.dom.overlay);var t=document.createElement("br");t.setAttribute("clear","all"),e&&e.appendChild(t)}X.ctx.overlay=X.dom.overlay.getContext("2d"),X.dom.overlay.width=x.getCanvasSize().x,X.dom.overlay.height=x.getCanvasSize().y}}function d(e){D=e||new N.a({x:x.getWidth(),y:x.getHeight()}),O=[J.clone([0,0]),J.clone([0,D.size.y]),J.clone([D.size.x,D.size.y]),J.clone([D.size.x,0])],L.a.init(D,Y.locator)}function f(){return Y.locate?L.a.locate():[[J.clone(O[0]),J.clone(O[1]),J.clone(O[2]),J.clone(O[3])]]}function p(e){function t(e){for(var t=e.length;t--;)e[t][0]+=i,e[t][1]+=a}function r(e){e[0].x+=i,e[0].y+=a,e[1].x+=i,e[1].y+=a}var n,o=x.getTopRight(),i=o.x,a=o.y;if(0!==i||0!==a){if(e.barcodes)for(n=0;n<e.barcodes.length;n++)p(e.barcodes[n]);if(e.line&&2===e.line.length&&r(e.line),e.box&&t(e.box),e.boxes&&e.boxes.length>0)for(n=0;n<e.boxes.length;n++)t(e.boxes[n])}}function l(e,t){t&&k&&(e.barcodes?e.barcodes.filter((function(e){return e.codeResult})).forEach((function(e){return l(e,t)})):e.codeResult&&k.addResult(t,x.getCanvasSize(),e.codeResult))}function h(e){return e&&(e.barcodes?e.barcodes.some((function(e){return e.codeResult})):e.codeResult)}function v(e,t){var r=e;e&&$&&(p(e),l(e,t),r=e.barcodes||e),U.a.publish("processed",r),h(e)&&U.a.publish("detected",r)}function m(){var e,t;t=f(),t?(e=A.decodeFromBoundingBoxes(t),e=e||{},e.boxes=t,v(e,D.data)):v()}function g(){var e;if($){if(K.length>0){if(!(e=K.filter((function(e){return!e.busy}))[0]))return;P.attachData(e.imageData)}else P.attachData(D.data);P.grab()&&(e?(e.busy=!0,e.worker.postMessage({cmd:"process",imageData:e.imageData},[e.imageData.buffer])):m())}else m()}function y(){var e=null,t=1e3/(Y.frequency||60);w=!1,function r(n){e=e||n,w||(n>=e&&(e+=t,g()),window.requestAnimFrame(r))}(performance.now())}function C(){$&&"LiveStream"===Y.inputStream.type?y():g()}function _(e){var t,r={worker:void 0,imageData:new Uint8Array(x.getWidth()*x.getHeight()),busy:!0};t=R(),r.worker=new Worker(t),r.worker.onmessage=function(n){if("initialized"===n.data.event)return URL.revokeObjectURL(t),r.busy=!1,r.imageData=new Uint8Array(n.data.imageData),e(r);"processed"===n.data.event?(r.imageData=new Uint8Array(n.data.imageData),r.busy=!1,v(n.data.result,r.imageData)):n.data.event},r.worker.postMessage({cmd:"init",size:{x:x.getWidth(),y:x.getHeight()},imageData:r.imageData,config:T(Y)},[r.imageData.buffer])}function T(e){return q({},e,{inputStream:q({},e.inputStream,{target:null})})}function S(e){function t(e){self.postMessage({event:"processed",imageData:o.data,result:e},[o.data.buffer])}function r(){self.postMessage({event:"initialized",imageData:o.data},[o.data.buffer])}if(e){var n=e().default;if(!n)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var o;self.onmessage=function(e){if("init"===e.data.cmd){var i=e.data.config;i.numOfWorkers=0,o=new n.ImageWrapper({x:e.data.size.x,y:e.data.size.y},new Uint8Array(e.data.imageData)),n.init(i,r,o),n.onProcessed(t)}else"process"===e.data.cmd?(o.data=new Uint8Array(e.data.imageData),n.start()):"setReaders"===e.data.cmd&&n.setReaders(e.data.readers)}}function R(){var t,r;return void 0!==e&&(r=e),t=new Blob(["("+S.toString()+")("+r+");"],{type:"text/javascript"}),window.URL.createObjectURL(t)}function b(e){A?A.setReaders(e):$&&K.length>0&&K.forEach((function(t){t.worker.postMessage({cmd:"setReaders",readers:e})}))}function E(e,t){var r=e-K.length;if(0===r)return t&&t();if(r<0)return K.slice(r).forEach((function(e){e.worker.terminate()})),K=K.slice(0,r),t&&t();for(var n=function(r){K.push(r),K.length>=e&&t&&t()},o=0;o<r;o++)_(n)}Object.defineProperty(r,"__esModule",{value:!0});var x,P,w,D,O,A,k,I=n(28),M=n.n(I),j=n(54),N=(n.n(j),n(20)),L=n(64),z=n(57),U=n(51),F=n(59),G=n(9),W=n(49),B=n(55),V=n(63),H=n(61),q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J={clone:n(7)},X={ctx:{image:null,overlay:null},dom:{image:null,overlay:null}},K=[],$=!0,Y={};r.default={init:function(e,t,r){if(Y=M()({},B.a,e),r)return $=!1,o(r),t();i(t)},start:function(){C()},stop:function(){w=!0,E(0),"LiveStream"===Y.inputStream.type&&(F.a.release(),x.clearEventHandlers())},pause:function(){w=!0},onDetected:function(e){U.a.subscribe("detected",e)},offDetected:function(e){U.a.unsubscribe("detected",e)},onProcessed:function(e){U.a.subscribe("processed",e)},offProcessed:function(e){U.a.unsubscribe("processed",e)},setReaders:function(e){b(e)},registerResultCollector:function(e){e&&"function"==typeof e.addResult&&(k=e)},canvas:X,decodeSingle:function(e,t){var r=this;e=M()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:e.src},numOfWorkers:1,locator:{halfSample:!1}},e),this.init(e,(function(){U.a.once("processed",(function(e){r.stop(),t.call(null,e)}),!0),C()}))},ImageWrapper:N.a,ImageDebug:G.a,ResultCollector:W.a,CameraAccess:F.a}},function(e,t,r){"use strict";function n(e,t){return!!t&&t.some((function(t){return Object.keys(t).every((function(r){return t[r]===e[r]}))}))}function o(e,t){return"function"!=typeof t||t(e)}var i=r(9);t.a={create:function(e){function t(t){return c&&t&&!n(t,e.blacklist)&&o(t,e.filter)}var r=document.createElement("canvas"),a=r.getContext("2d"),s=[],c=e.capacity||20,u=!0===e.capture;return{addResult:function(e,n,o){var d={};t(o)&&(c--,d.codeResult=o,u&&(r.width=n.x,r.height=n.y,i.a.drawImage(e,n,a),d.frame=r.toDataURL()),s.push(d))},getResults:function(){return s}}}}},function(e,t,r){"use strict";var n={clone:r(7),dot:r(32)};t.a={create:function(e,t){function r(){o(e),i()}function o(e){c[e.id]=e,a.push(e)}function i(){var e,t=0;for(e=0;e<a.length;e++)t+=a[e].rad;s.rad=t/a.length,s.vec=n.clone([Math.cos(s.rad),Math.sin(s.rad)])}var a=[],s={rad:0,vec:n.clone([0,0])},c={};return r(),{add:function(e){c[e.id]||(o(e),i())},fits:function(e){return Math.abs(n.dot(e.point.vec,s.vec))>t},getPoints:function(){return a},getCenter:function(){return s}}},createPoint:function(e,t,r){return{rad:e[r],point:e,id:t}}}},function(e,t,r){"use strict";t.a=function(){function e(e){return o[e]||(o[e]={subscribers:[]}),o[e]}function t(){o={}}function r(e,t){e.async?setTimeout((function(){e.callback(t)}),4):e.callback(t)}function n(t,r,n){var o;if("function"==typeof r)o={callback:r,async:n};else if(o=r,!o.callback)throw"Callback was not specified on options";e(t).subscribers.push(o)}var o={};return{subscribe:function(e,t,r){return n(e,t,r)},publish:function(t,n){var o=e(t),i=o.subscribers;i.filter((function(e){return!!e.once})).forEach((function(e){r(e,n)})),o.subscribers=i.filter((function(e){return!e.once})),o.subscribers.forEach((function(e){r(e,n)}))},once:function(e,t,r){n(e,{callback:t,async:r,once:!0})},unsubscribe:function(r,n){var o;r?(o=e(r),o.subscribers=o&&n?o.subscribers.filter((function(e){return e.callback!==n})):[]):t()}}}()},function(e,t,r){"use strict";function n(){return navigator.mediaDevices&&"function"==typeof navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices():Promise.reject(new Error("enumerateDevices is not defined"))}function o(e){return navigator.mediaDevices&&"function"==typeof navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia(e):Promise.reject(new Error("getUserMedia is not defined"))}t.b=n,t.a=o},function(e,t,r){"use strict";function n(e,t,r){r||(r={data:null,size:t}),this.data=r.data,this.originalSize=r.size,this.I=r,this.from=e,this.size=t}n.prototype.show=function(e,t){var r,n,o,i,a,s,c;for(t||(t=1),r=e.getContext("2d"),e.width=this.size.x,e.height=this.size.y,n=r.getImageData(0,0,e.width,e.height),o=n.data,i=0,a=0;a<this.size.y;a++)for(s=0;s<this.size.x;s++)c=a*this.size.x+s,i=this.get(s,a)*t,o[4*c+0]=i,o[4*c+1]=i,o[4*c+2]=i,o[4*c+3]=255;n.data=o,r.putImageData(n,0,0)},n.prototype.get=function(e,t){return this.data[(this.from.y+t)*this.originalSize.x+this.from.x+e]},n.prototype.updateData=function(e){this.originalSize=e.size,this.data=e.data},n.prototype.updateFrom=function(e){return this.from=e,this},t.a=n},function(e,t){"undefined"!=typeof window&&(window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}()),Math.imul=Math.imul||function(e,t){var r=e>>>16&65535,n=65535&e,o=t>>>16&65535,i=65535&t;return n*i+(r*i+n*o<<16>>>0)|0},"function"!=typeof Object.assign&&(Object.assign=function(e){"use strict";if(null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!==n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t})},function(e,t,r){"use strict";var n=void 0;n=r(56),t.a=n},function(e,t){e.exports={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}}},function(e,t,r){"use strict";var n=r(58),o=(r(9),r(69)),i=r(4),a=r(31),s=r(70),c=r(68),u=r(77),d=r(74),f=r(72),p=r(73),l=r(76),h=r(75),v=r(67),m=r(71),g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y={code_128_reader:o.a,ean_reader:i.a,ean_5_reader:p.a,ean_2_reader:f.a,ean_8_reader:d.a,code_39_reader:a.a,code_39_vin_reader:s.a,codabar_reader:c.a,upc_reader:u.a,upc_e_reader:l.a,i2of5_reader:h.a,"2of5_reader":v.a,code_93_reader:m.a};t.a={create:function(e,t){function r(){}function o(){e.readers.forEach((function(e){var t,r={},n=[];"object"===(void 0===e?"undefined":g(e))?(t=e.format,r=e.config):"string"==typeof e&&(t=e),r.supplements&&(n=r.supplements.map((function(e){return new y[e]}))),l.push(new y[t](r,n))}))}function i(){}function a(e,r,n){function o(t){var n={y:t*Math.sin(r),x:t*Math.cos(r)};e[0].y-=n.y,e[0].x-=n.x,e[1].y+=n.y,e[1].x+=n.x}for(o(n);n>1&&(!t.inImageWithBorder(e[0],0)||!t.inImageWithBorder(e[1],0));)n-=Math.ceil(n/2),o(-n);return e}function s(e){return[{x:(e[1][0]-e[0][0])/2+e[0][0],y:(e[1][1]-e[0][1])/2+e[0][1]},{x:(e[3][0]-e[2][0])/2+e[2][0],y:(e[3][1]-e[2][1])/2+e[2][1]}]}function c(e){var r,o=null,i=n.a.getBarcodeLine(t,e[0],e[1]);for(n.a.toBinaryLine(i),r=0;r<l.length&&null===o;r++)o=l[r].decodePattern(i.line);return null===o?null:{codeResult:o,barcodeLine:i}}function u(e,t,r){var n,o,i,a=Math.sqrt(Math.pow(e[1][0]-e[0][0],2)+Math.pow(e[1][1]-e[0][1],2)),s=16,u=null,d=Math.sin(r),f=Math.cos(r);for(n=1;n<s&&null===u;n++)o=a/s*n*(n%2==0?-1:1),i={y:o*d,x:o*f},t[0].y+=i.x,t[0].x-=i.y,t[1].y+=i.x,t[1].x-=i.y,u=c(t);return u}function d(e){return Math.sqrt(Math.pow(Math.abs(e[1].y-e[0].y),2)+Math.pow(Math.abs(e[1].x-e[0].x),2))}function f(e){var t,r,n,o;return p.ctx.overlay,t=s(e),o=d(t),r=Math.atan2(t[1].y-t[0].y,t[1].x-t[0].x),null===(t=a(t,r,Math.floor(.1*o)))?null:(n=c(t),null===n&&(n=u(e,t,r)),null===n?null:{codeResult:n.codeResult,line:t,angle:r,pattern:n.barcodeLine.line,threshold:n.barcodeLine.threshold})}var p={ctx:{frequency:null,pattern:null,overlay:null},dom:{frequency:null,pattern:null,overlay:null}},l=[];return r(),o(),i(),{decodeFromBoundingBox:function(e){return f(e)},decodeFromBoundingBoxes:function(t){var r,n,o=[],i=e.multiple;for(r=0;r<t.length;r++){var a=t[r];if(n=f(a)||{},n.box=a,i)o.push(n);else if(n.codeResult)return n}if(i)return{barcodes:o}},setReaders:function(t){e.readers=t,l.length=0,o()}}}}},function(e,t,r){"use strict";var n=(r(20),{}),o={DIR:{UP:1,DOWN:-1}};n.getBarcodeLine=function(e,t,r){function n(e,t){f=y[t*C+e],f,_=f<_?f:_,T=f>T?f:T,g.push(f)}var o,i,a,s,c,u,d,f,p=0|t.x,l=0|t.y,h=0|r.x,v=0|r.y,m=Math.abs(v-l)>Math.abs(h-p),g=[],y=e.data,C=e.size.x,_=255,T=0;for(m&&(u=p,p=l,l=u,u=h,h=v,v=u),p>h&&(u=p,p=h,h=u,u=l,l=v,v=u),o=h-p,i=Math.abs(v-l),a=o/2|0,c=l,s=l<v?1:-1,d=p;d<h;d++)m?n(c,d):n(d,c),(a-=i)<0&&(c+=s,a+=o);return{line:g,min:_,max:T}},n.toBinaryLine=function(e){var t,r,n,i,a,s,c=e.min,u=e.max,d=e.line,f=c+(u-c)/2,p=[],l=(u-c)/12,h=-l;for(n=d[0]>f?o.DIR.UP:o.DIR.DOWN,p.push({pos:0,val:d[0]}),a=0;a<d.length-2;a++)t=d[a+1]-d[a],r=d[a+2]-d[a+1],i=t+r<h&&d[a+1]<1.5*f?o.DIR.DOWN:t+r>l&&d[a+1]>.5*f?o.DIR.UP:n,n!==i&&(p.push({pos:a,val:d[a]}),n=i);for(p.push({pos:d.length,val:d[d.length-1]}),s=p[0].pos;s<p[1].pos;s++)d[s]=d[s]>f?0:1;for(a=1;a<p.length-1;a++)for(l=p[a+1].val>p[a].val?p[a].val+(p[a+1].val-p[a].val)/3*2|0:p[a+1].val+(p[a].val-p[a+1].val)/3|0,s=p[a].pos;s<p[a+1].pos;s++)d[s]=d[s]>l?0:1;return{line:d,threshold:l}},n.debug={printFrequency:function(e,t){var r,n=t.getContext("2d");for(t.width=e.length,t.height=256,n.beginPath(),n.strokeStyle="blue",r=0;r<e.length;r++)n.moveTo(r,255),n.lineTo(r,255-e[r]);n.stroke(),n.closePath()},printPattern:function(e,t){var r,n=t.getContext("2d");for(t.width=e.length,n.fillColor="black",r=0;r<e.length;r++)1===e[r]&&n.fillRect(r,0,1,100)}},t.a=n},function(e,t,r){"use strict";function n(e){return new Promise((function(t,r){function n(){o>0?e.videoWidth>10&&e.videoHeight>10?t():window.setTimeout(n,500):r("Unable to play video stream. Is webcam working?"),o--}var o=10;n()}))}function o(e,t){return r.i(p.a)(t).then((function(t){return new Promise((function(r){u=t,e.setAttribute("autoplay",!0),e.setAttribute("muted",!0),e.setAttribute("playsinline",!0),e.srcObject=t,e.addEventListener("loadedmetadata",(function(){e.play(),r()}))}))})).then(n.bind(null,e))}function i(e){var t=f()(e,["width","height","facingMode","aspectRatio","deviceId"]);return void 0!==e.minAspectRatio&&e.minAspectRatio>0&&(t.aspectRatio=e.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),void 0!==e.facing&&(t.facingMode=e.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),t}function a(e){var t={audio:!1,video:i(e)};return t.video.deviceId&&t.video.facingMode&&delete t.video.facingMode,Promise.resolve(t)}function s(){return r.i(p.b)().then((function(e){return e.filter((function(e){return"videoinput"===e.kind}))}))}function c(){if(u){var e=u.getVideoTracks();if(e&&e.length)return e[0]}}var u,d=r(162),f=r.n(d),p=r(52);t.a={request:function(e,t){return a(t).then(o.bind(null,e))},release:function(){var e=u&&u.getVideoTracks();e&&e.length&&e[0].stop(),u=null},enumerateVideoDevices:s,getActiveStreamLabel:function(){var e=c();return e?e.label:""},getActiveTrack:c}},function(e,t,r){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;return/^blob\:/i.test(e)?i(e).then(o).then((function(e){return a(e,t)})):Promise.resolve(null)}function o(e){return new Promise((function(t){var r=new FileReader;r.onload=function(e){return t(e.target.result)},r.readAsArrayBuffer(e)}))}function i(e){return new Promise((function(t,r){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onreadystatechange=function(){n.readyState!==XMLHttpRequest.DONE||200!==n.status&&0!==n.status||t(this.response)},n.onerror=r,n.send()}))}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p,r=new DataView(e),n=e.byteLength,o=t.reduce((function(e,t){var r=Object.keys(f).filter((function(e){return f[e]===t}))[0];return r&&(e[r]=t),e}),{}),i=2;if(255!==r.getUint8(0)||216!==r.getUint8(1))return!1;for(;i<n;){if(255!==r.getUint8(i))return!1;if(225===r.getUint8(i+1))return s(r,i+4,o);i+=2+r.getUint16(i+2)}}function s(e,t,r){if("Exif"!==d(e,t,4))return!1;var n=t+6,o=void 0;if(18761===e.getUint16(n))o=!1;else{if(19789!==e.getUint16(n))return!1;o=!0}if(42!==e.getUint16(n+2,!o))return!1;var i=e.getUint32(n+4,!o);return!(i<8)&&c(e,n,n+i,r,o)}function c(e,t,r,n,o){for(var i=e.getUint16(r,!o),a={},s=0;s<i;s++){var c=r+12*s+2,d=n[e.getUint16(c,!o)];d&&(a[d]=u(e,c,t,r,o))}return a}function u(e,t,r,n,o){var i=e.getUint16(t+2,!o),a=e.getUint32(t+4,!o);switch(i){case 3:if(1===a)return e.getUint16(t+8,!o)}}function d(e,t,r){for(var n="",o=t;o<t+r;o++)n+=String.fromCharCode(e.getUint8(o));return n}t.a=n;var f={274:"orientation"},p=Object.keys(f).map((function(e){return f[e]}))},function(e,t,r){"use strict";function n(e,t){e.width!==t.x&&(e.width=t.x),e.height!==t.y&&(e.height=t.y)}var o=r(19),i=Math.PI/180,a={create:function(e,t){var a,s={},c=e.getConfig(),u=(r.i(o.b)(e.getRealWidth(),e.getRealHeight()),e.getCanvasSize()),d=r.i(o.b)(e.getWidth(),e.getHeight()),f=e.getTopRight(),p=f.x,l=f.y,h=null,v=null;return a=t||document.createElement("canvas"),a.width=u.x,a.height=u.y,h=a.getContext("2d"),v=new Uint8Array(d.x*d.y),s.attachData=function(e){v=e},s.getData=function(){return v},s.grab=function(){var t,s=c.halfSample,f=e.getFrame(),m=f,g=0;if(m){if(n(a,u),"ImageStream"===c.type&&(m=f.img,f.tags&&f.tags.orientation))switch(f.tags.orientation){case 6:g=90*i;break;case 8:g=-90*i}return 0!==g?(h.translate(u.x/2,u.y/2),h.rotate(g),h.drawImage(m,-u.y/2,-u.x/2,u.y,u.x),h.rotate(-g),h.translate(-u.x/2,-u.y/2)):h.drawImage(m,0,0,u.x,u.y),t=h.getImageData(p,l,d.x,d.y).data,s?r.i(o.c)(t,d,v):r.i(o.d)(t,v,c),!0}return!1},s.getSize=function(){return d},s}};t.a=a},function(e,t,r){"use strict";function n(e,t){e.onload=function(){t.loaded(this)}}var o=r(60),i={load:function(e,t,i,a,s){var c,u,d,f=new Array(a),p=new Array(f.length);if(!1===s)f[0]=e;else for(c=0;c<f.length;c++)d=i+c,f[c]=e+"image-"+("00"+d).slice(-3)+".jpg";for(p.notLoaded=[],p.addImage=function(e){p.notLoaded.push(e)},p.loaded=function(n){for(var i=p.notLoaded,a=0;a<i.length;a++)if(i[a]===n){i.splice(a,1);for(var c=0;c<f.length;c++){var u=f[c].substr(f[c].lastIndexOf("/"));if(-1!==n.src.lastIndexOf(u)){p[c]={img:n};break}}break}0===i.length&&(!1===s?r.i(o.a)(e,["orientation"]).then((function(e){p[0].tags=e,t(p)})).catch((function(e){console.log(e),t(p)})):t(p))},c=0;c<f.length;c++)u=new Image,p.addImage(u),n(u,p),u.src=f[c]}};t.a=i},function(e,t,r){"use strict";var n=r(62),o={createVideoStream:function(e){function t(){var t=e.videoWidth,o=e.videoHeight;r=i.size?t/o>1?i.size:Math.floor(t/o*i.size):t,n=i.size?t/o>1?Math.floor(o/t*i.size):i.size:o,u.x=r,u.y=n}var r,n,o={},i=null,a=["canrecord","ended"],s={},c={x:0,y:0},u={x:0,y:0};return o.getRealWidth=function(){return e.videoWidth},o.getRealHeight=function(){return e.videoHeight},o.getWidth=function(){return r},o.getHeight=function(){return n},o.setWidth=function(e){r=e},o.setHeight=function(e){n=e},o.setInputStream=function(t){i=t,e.src=void 0!==t.src?t.src:""},o.ended=function(){return e.ended},o.getConfig=function(){return i},o.setAttribute=function(t,r){e.setAttribute(t,r)},o.pause=function(){e.pause()},o.play=function(){e.play()},o.setCurrentTime=function(t){"LiveStream"!==i.type&&(e.currentTime=t)},o.addEventListener=function(t,r,n){-1!==a.indexOf(t)?(s[t]||(s[t]=[]),s[t].push(r)):e.addEventListener(t,r,n)},o.clearEventHandlers=function(){a.forEach((function(t){var r=s[t];r&&r.length>0&&r.forEach((function(r){e.removeEventListener(t,r)}))}))},o.trigger=function(e,r){var n,i=s[e];if("canrecord"===e&&t(),i&&i.length>0)for(n=0;n<i.length;n++)i[n].apply(o,r)},o.setTopRight=function(e){c.x=e.x,c.y=e.y},o.getTopRight=function(){return c},o.setCanvasSize=function(e){u.x=e.x,u.y=e.y},o.getCanvasSize=function(){return u},o.getFrame=function(){return e},o},createLiveStream:function(e){e.setAttribute("autoplay",!0);var t=o.createVideoStream(e);return t.ended=function(){return!1},t},createImageStream:function(){function e(){f=!1,n.a.load(v,(function(e){if(p=e,e[0].tags&&e[0].tags.orientation)switch(e[0].tags.orientation){case 6:case 8:s=e[0].img.height,c=e[0].img.width;break;default:s=e[0].img.width,c=e[0].img.height}else s=e[0].img.width,c=e[0].img.height;r=a.size?s/c>1?a.size:Math.floor(s/c*a.size):s,o=a.size?s/c>1?Math.floor(c/s*a.size):a.size:c,_.x=r,_.y=o,f=!0,u=0,setTimeout((function(){t("canrecord",[])}),0)}),h,l,a.sequence)}function t(e,t){var r,n=y[e];if(n&&n.length>0)for(r=0;r<n.length;r++)n[r].apply(i,t)}var r,o,i={},a=null,s=0,c=0,u=0,d=!0,f=!1,p=null,l=0,h=1,v=null,m=!1,g=["canrecord","ended"],y={},C={x:0,y:0},_={x:0,y:0};return i.trigger=t,i.getWidth=function(){return r},i.getHeight=function(){return o},i.setWidth=function(e){r=e},i.setHeight=function(e){o=e},i.getRealWidth=function(){return s},i.getRealHeight=function(){return c},i.setInputStream=function(t){a=t,!1===t.sequence?(v=t.src,l=1):(v=t.src,l=t.length),e()},i.ended=function(){return m},i.setAttribute=function(){},i.getConfig=function(){return a},i.pause=function(){d=!0},i.play=function(){d=!1},i.setCurrentTime=function(e){u=e},i.addEventListener=function(e,t){-1!==g.indexOf(e)&&(y[e]||(y[e]=[]),y[e].push(t))},i.setTopRight=function(e){C.x=e.x,C.y=e.y},i.getTopRight=function(){return C},i.setCanvasSize=function(e){_.x=e.x,_.y=e.y},i.getCanvasSize=function(){return _},i.getFrame=function(){var e;return f?(d||(e=p[u],u<l-1?u++:setTimeout((function(){m=!0,t("ended",[])}),0)),e):null},i}};t.a=o},function(e,t,r){"use strict";(function(e){function n(){var t;v=h.halfSample?new x.a({x:b.size.x/2|0,y:b.size.y/2|0}):b,R=r.i(P.e)(h.patchSize,v.size),j.x=v.size.x/R.x|0,j.y=v.size.y/R.y|0,S=new x.a(v.size,void 0,Uint8Array,!1),y=new x.a(R,void 0,Array,!0),t=new ArrayBuffer(65536),g=new x.a(R,new Uint8Array(t,0,R.x*R.y)),m=new x.a(R,new Uint8Array(t,R.x*R.y*3,R.x*R.y),void 0,!0),E=r.i(A.a)("undefined"!=typeof window?window:"undefined"!=typeof self?self:e,{size:R.x},t),T=new x.a({x:v.size.x/g.size.x|0,y:v.size.y/g.size.y|0},void 0,Array,!0),C=new x.a(T.size,void 0,void 0,!0),_=new x.a(T.size,void 0,Int32Array,!0)}function o(){h.useWorker||"undefined"==typeof document||(M.dom.binary=document.createElement("canvas"),M.dom.binary.className="binaryBuffer",M.ctx.binary=M.dom.binary.getContext("2d"),M.dom.binary.width=S.size.x,M.dom.binary.height=S.size.y)}function i(e){var t,r,n,o,i,a,s,c=S.size.x,u=S.size.y,d=-S.size.x,f=-S.size.y;for(t=0,r=0;r<e.length;r++)o=e[r],t+=o.rad;for(t/=e.length,t=(180*t/Math.PI+90)%180-90,t<0&&(t+=180),t=(180-t)*Math.PI/180,i=I.copy(I.create(),[Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t)]),r=0;r<e.length;r++)for(o=e[r],n=0;n<4;n++)k.transformMat2(o.box[n],o.box[n],i);for(r=0;r<e.length;r++)for(o=e[r],n=0;n<4;n++)o.box[n][0]<c&&(c=o.box[n][0]),o.box[n][0]>d&&(d=o.box[n][0]),o.box[n][1]<u&&(u=o.box[n][1]),o.box[n][1]>f&&(f=o.box[n][1]);for(a=[[c,u],[d,u],[d,f],[c,f]],s=h.halfSample?2:1,i=I.invert(i,i),n=0;n<4;n++)k.transformMat2(a[n],a[n],i);for(n=0;n<4;n++)k.scale(a[n],a[n],s);return a}function a(){r.i(P.f)(v,S),S.zeroBorder()}function s(){var e,t,r,n,o,i,a,s=[];for(e=0;e<j.x;e++)for(t=0;t<j.y;t++)r=g.size.x*e,n=g.size.y*t,f(r,n),m.zeroBorder(),w.a.init(y.data,0),i=D.a.create(m,y),a=i.rasterize(0),o=y.moments(a.count),s=s.concat(p(o,[e,t],r,n));return s}function c(e){var t,r,n=[];for(t=0;t<e;t++)n.push(0);for(r=_.data.length;r--;)_.data[r]>0&&n[_.data[r]-1]++;return n=n.map((function(e,t){return{val:e,label:t+1}})),n.sort((function(e,t){return t.val-e.val})),n.filter((function(e){return e.val>=5}))}function u(e,t){var r,n,o,a,s=[],c=[];for(r=0;r<e.length;r++){for(n=_.data.length,s.length=0;n--;)_.data[n]===e[r].label&&(o=T.data[n],s.push(o));a=i(s),a&&c.push(a)}return c}function d(e){var t=r.i(P.g)(e,.9),n=r.i(P.h)(t,1,(function(e){return e.getPoints().length})),o=[],i=[];if(1===n.length){o=n[0].item.getPoints();for(var a=0;a<o.length;a++)i.push(o[a].point)}return i}function f(e,t){S.subImageAsCopy(g,r.i(P.b)(e,t)),E.skeletonize()}function p(e,t,r,n){var o,i,a,s,c=[],u=[],f=Math.ceil(R.x/3);if(e.length>=2){for(o=0;o<e.length;o++)e[o].m00>f&&c.push(e[o]);if(c.length>=2){for(a=d(c),i=0,o=0;o<a.length;o++)i+=a[o].rad;a.length>1&&a.length>=c.length/4*3&&a.length>e.length/4&&(i/=a.length,s={index:t[1]*j.x+t[0],pos:{x:r,y:n},box:[k.clone([r,n]),k.clone([r+g.size.x,n]),k.clone([r+g.size.x,n+g.size.y]),k.clone([r,n+g.size.y])],moments:a,rad:i,vec:k.clone([Math.cos(i),Math.sin(i)])},u.push(s))}}return u}function l(e){function t(){var e;for(e=0;e<_.data.length;e++)if(0===_.data[e]&&1===C.data[e])return e;return _.length}function r(e){var t,n,o,s,c,u={x:e%_.size.x,y:e/_.size.x|0};if(e<_.data.length)for(o=T.data[e],_.data[e]=i,c=0;c<O.a.searchDirections.length;c++)n=u.y+O.a.searchDirections[c][0],t=u.x+O.a.searchDirections[c][1],s=n*_.size.x+t,0!==C.data[s]?0===_.data[s]&&Math.abs(k.dot(T.data[s].vec,o.vec))>a&&r(s):_.data[s]=Number.MAX_VALUE}var n,o,i=0,a=.95,s=0;for(w.a.init(C.data,0),w.a.init(_.data,0),w.a.init(T.data,null),n=0;n<e.length;n++)o=e[n],T.data[o.index]=o,C.data[o.index]=1;for(C.zeroBorder();(s=t())<_.data.length;)i++,r(s);return i}var h,v,m,g,y,C,_,T,S,R,b,E,x=r(20),P=r(19),w=r(3),D=(r(9),r(65)),O=r(30),A=r(66),k={clone:r(7),dot:r(32),scale:r(81),transformMat2:r(82)},I={copy:r(78),create:r(79),invert:r(80)},M={ctx:{binary:null},dom:{binary:null}},j={x:0,y:0};t.a={init:function(e,t){h=t,b=e,n(),o()},locate:function(){var e,t;if(h.halfSample&&r.i(P.i)(b,v),a(),e=s(),e.length<j.x*j.y*.05)return null;var n=l(e);return n<1?null:(t=c(n),0===t.length?null:u(t,n))},checkImageConstraints:function(e,t){var n,o,i,a=e.getWidth(),s=e.getHeight(),c=t.halfSample?.5:1;if(e.getConfig().area&&(i=r.i(P.j)(a,s,e.getConfig().area),e.setTopRight({x:i.sx,y:i.sy}),e.setCanvasSize({x:a,y:s}),a=i.sw,s=i.sh),o={x:Math.floor(a*c),y:Math.floor(s*c)},n=r.i(P.e)(t.patchSize,o),e.setWidth(Math.floor(Math.floor(o.x/n.x)*(1/c)*n.x)),e.setHeight(Math.floor(Math.floor(o.y/n.y)*(1/c)*n.y)),e.getWidth()%n.x==0&&e.getHeight()%n.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width ("+a+" )and height ("+s+") must a multiple of "+n.x)}}}).call(t,r(47))},function(e,t,r){"use strict";var n=r(30),o={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(e,t){var r=e.data,i=t.data,a=e.size.x,s=e.size.y,c=n.a.create(e,t);return{rasterize:function(e){var t,n,u,d,f,p,l,h,v,m,g,y,C=[],_=0;for(y=0;y<400;y++)C[y]=0;for(C[0]=r[0],v=null,p=1;p<s-1;p++)for(d=0,n=C[0],f=1;f<a-1;f++)if(g=p*a+f,0===i[g])if((t=r[g])!==n){if(0===d)u=_+1,C[u]=t,n=t,null!==(l=c.contourTracing(p,f,u,t,o.DIR.OUTSIDE_EDGE))&&(_++,d=u,h=o.createContour2D(),h.dir=o.CONTOUR_DIR.CW_DIR,h.index=d,h.firstVertex=l,h.nextpeer=v,h.insideContours=null,null!==v&&(v.prevpeer=h),v=h);else if(null!==(l=c.contourTracing(p,f,o.DIR.INSIDE_EDGE,t,d))){for(h=o.createContour2D(),h.firstVertex=l,h.insideContours=null,h.dir=0===e?o.CONTOUR_DIR.CCW_DIR:o.CONTOUR_DIR.CW_DIR,h.index=e,m=v;null!==m&&m.index!==d;)m=m.nextpeer;null!==m&&(h.nextpeer=m.insideContours,null!==m.insideContours&&(m.insideContours.prevpeer=h),m.insideContours=h)}}else i[g]=d;else i[g]===o.DIR.OUTSIDE_EDGE||i[g]===o.DIR.INSIDE_EDGE?(d=0,n=i[g]===o.DIR.INSIDE_EDGE?r[g]:C[0]):(d=i[g],n=C[d]);for(m=v;null!==m;)m.index=e,m=m.nextpeer;return{cc:v,count:_}},debug:{drawContour:function(e,t){var r,n,i,a=e.getContext("2d"),s=t;for(a.strokeStyle="red",a.fillStyle="red",a.lineWidth=1,r=null!==s?s.insideContours:null;null!==s;){switch(null!==r?(n=r,r=r.nextpeer):(n=s,s=s.nextpeer,r=null!==s?s.insideContours:null),n.dir){case o.CONTOUR_DIR.CW_DIR:a.strokeStyle="red";break;case o.CONTOUR_DIR.CCW_DIR:a.strokeStyle="blue";break;case o.CONTOUR_DIR.UNKNOWN_DIR:a.strokeStyle="green"}i=n.firstVertex,a.beginPath(),a.moveTo(i.x,i.y);do{i=i.next,a.lineTo(i.x,i.y)}while(i!==n.firstVertex);a.stroke()}}}}}};t.a=o},function(e,t,r){"use strict";function n(e,t,r){"use asm";var n=new e.Uint8Array(r),o=t.size|0,i=e.Math.imul;function a(e,t){e=e|0;t=t|0;var r=0,i=0,a=0,s=0,c=0,u=0,d=0,f=0;for(r=1;(r|0)<(o-1|0);r=r+1|0){f=f+o|0;for(i=1;(i|0)<(o-1|0);i=i+1|0){s=f-o|0;c=f+o|0;u=i-1|0;d=i+1|0;a=(n[e+s+u|0]|0)+(n[e+s+d|0]|0)+(n[e+f+i|0]|0)+(n[e+c+u|0]|0)+(n[e+c+d|0]|0)|0;if((a|0)==(5|0)){n[t+f+i|0]=1}else{n[t+f+i|0]=0}}}return}function s(e,t,r){e=e|0;t=t|0;r=r|0;var a=0;a=i(o,o)|0;while((a|0)>0){a=a-1|0;n[r+a|0]=(n[e+a|0]|0)-(n[t+a|0]|0)|0}}function c(e,t,r){e=e|0;t=t|0;r=r|0;var a=0;a=i(o,o)|0;while((a|0)>0){a=a-1|0;n[r+a|0]=n[e+a|0]|0|(n[t+a|0]|0)|0}}function u(e){e=e|0;var t=0,r=0;r=i(o,o)|0;while((r|0)>0){r=r-1|0;t=(t|0)+(n[e+r|0]|0)|0}return t|0}function d(e,t){e=e|0;t=t|0;var r=0;r=i(o,o)|0;while((r|0)>0){r=r-1|0;n[e+r|0]=t}}function f(e,t){e=e|0;t=t|0;var r=0,i=0,a=0,s=0,c=0,u=0,d=0,f=0;for(r=1;(r|0)<(o-1|0);r=r+1|0){f=f+o|0;for(i=1;(i|0)<(o-1|0);i=i+1|0){s=f-o|0;c=f+o|0;u=i-1|0;d=i+1|0;a=(n[e+s+u|0]|0)+(n[e+s+d|0]|0)+(n[e+f+i|0]|0)+(n[e+c+u|0]|0)+(n[e+c+d|0]|0)|0;if((a|0)>(0|0)){n[t+f+i|0]=1}else{n[t+f+i|0]=0}}}return}function p(e,t){e=e|0;t=t|0;var r=0;r=i(o,o)|0;while((r|0)>0){r=r-1|0;n[t+r|0]=n[e+r|0]|0}}function l(e){e=e|0;var t=0,r=0;for(t=0;(t|0)<(o-1|0);t=t+1|0){n[e+t|0]=0;n[e+r|0]=0;r=r+o-1|0;n[e+r|0]=0;r=r+1|0}for(t=0;(t|0)<(o|0);t=t+1|0){n[e+r|0]=0;r=r+1|0}}function h(){var e=0,t=0,r=0,n=0,h=0,v=0;t=i(o,o)|0;r=t+t|0;n=r+t|0;d(n,0);l(e);do{a(e,t);f(t,r);s(e,r,r);c(n,r,n);p(t,e);h=u(e)|0;v=(h|0)==0|0}while(!v)}return{skeletonize:h}}t["a"]=n},function(e,t,r){"use strict";function n(e){o.a.call(this,e),this.barSpaceRatio=[1,1]}var o=r(1),i=1,a=3,s={START_PATTERN:{value:[a,i,a,i,i,i]},STOP_PATTERN:{value:[a,i,i,i,a]},CODE_PATTERN:{value:[[i,i,a,a,i],[a,i,i,i,a],[i,a,i,i,a],[a,a,i,i,i],[i,i,a,i,a],[a,i,a,i,i],[i,a,a,i,i],[i,i,i,a,a],[a,i,i,a,i],[i,a,i,a,i]]},SINGLE_CODE_ERROR:{value:.78,writable:!0},AVG_CODE_ERROR:{value:.3,writable:!0},FORMAT:{value:"2of5"}},c=s.START_PATTERN.value.reduce((function(e,t){return e+t}),0);n.prototype=Object.create(o.a.prototype,s),n.prototype.constructor=n,n.prototype._findPattern=function(e,t,r,n){var o,i,a,s,c=[],u=this,d=0,f={error:Number.MAX_VALUE,code:-1,start:0,end:0},p=u.AVG_CODE_ERROR;for(r=r||!1,n=n||!1,t||(t=u._nextSet(u._row)),o=0;o<e.length;o++)c[o]=0;for(o=t;o<u._row.length;o++)if(u._row[o]^r)c[d]++;else{if(d===c.length-1){for(s=0,a=0;a<c.length;a++)s+=c[a];if((i=u._matchPattern(c,e))<p)return f.error=i,f.start=o-s,f.end=o,f;if(!n)return null;for(a=0;a<c.length-2;a++)c[a]=c[a+2];c[c.length-2]=0,c[c.length-1]=0,d--}else d++;c[d]=1,r=!r}return null},n.prototype._findStart=function(){for(var e,t,r=this,n=r._nextSet(r._row),o=1;!t;){if(!(t=r._findPattern(r.START_PATTERN,n,!1,!0)))return null;if(o=Math.floor((t.end-t.start)/c),(e=t.start-5*o)>=0&&r._matchRange(e,t.start,0))return t;n=t.end,t=null}},n.prototype._verifyTrailingWhitespace=function(e){var t,r=this;return t=e.end+(e.end-e.start)/2,t<r._row.length&&r._matchRange(e.end,t,0)?e:null},n.prototype._findEnd=function(){var e,t,r,n=this;return n._row.reverse(),r=n._nextSet(n._row),e=n._findPattern(n.STOP_PATTERN,r,!1,!0),n._row.reverse(),null===e?null:(t=e.start,e.start=n._row.length-e.end,e.end=n._row.length-t,null!==e?n._verifyTrailingWhitespace(e):null)},n.prototype._decodeCode=function(e){var t,r,n,o=this,i=o.AVG_CODE_ERROR,a={error:Number.MAX_VALUE,code:-1,start:0,end:0};for(t=0;t<e.length;t++)e[t];for(n=0;n<o.CODE_PATTERN.length;n++)(r=o._matchPattern(e,o.CODE_PATTERN[n]))<a.error&&(a.code=n,a.error=r);if(a.error<i)return a},n.prototype._decodePayload=function(e,t,r){for(var n,o,i=this,a=0,s=e.length,c=[0,0,0,0,0];a<s;){for(n=0;n<5;n++)c[n]=e[a]*this.barSpaceRatio[0],a+=2;if(!(o=i._decodeCode(c)))return null;t.push(o.code+""),r.push(o)}return o},n.prototype._verifyCounterLength=function(e){return e.length%10==0},n.prototype._decode=function(){var e,t,r,n=this,o=[],i=[];return(e=n._findStart())?(i.push(e),(t=n._findEnd())?(r=n._fillCounters(e.end,t.start,!1),n._verifyCounterLength(r)&&n._decodePayload(r,o,i)?o.length<5?null:(i.push(t),{code:o.join(""),start:e.start,end:t.end,startInfo:e,decodedCodes:i}):null):null):null},t.a=n},function(e,t,r){"use strict";function n(){o.a.call(this),this._counters=[]}var o=r(1),i={ALPHABETH_STRING:{value:"0123456789-$:/.+ABCD"},ALPHABET:{value:[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68]},CHARACTER_ENCODINGS:{value:[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14]},START_END:{value:[26,41,11,14]},MIN_ENCODED_CHARS:{value:4},MAX_ACCEPTABLE:{value:2},PADDING:{value:1.5},FORMAT:{value:"codabar",writeable:!1}};n.prototype=Object.create(o.a.prototype,i),n.prototype.constructor=n,n.prototype._decode=function(){var e,t,r,n,o,i=this,a=[];if(this._counters=i._fillCounters(),!(e=i._findStart()))return null;n=e.startCounter;do{if((r=i._toPattern(n))<0)return null;if((t=i._patternToChar(r))<0)return null;if(a.push(t),n+=8,a.length>1&&i._isStartEnd(r))break}while(n<i._counters.length);return a.length-2<i.MIN_ENCODED_CHARS||!i._isStartEnd(r)?null:i._verifyWhitespace(e.startCounter,n-8)&&i._validateResult(a,e.startCounter)?(n=n>i._counters.length?i._counters.length:n,o=e.start+i._sumCounters(e.startCounter,n-8),{code:a.join(""),start:e.start,end:o,startInfo:e,decodedCodes:a}):null},n.prototype._verifyWhitespace=function(e,t){return(e-1<=0||this._counters[e-1]>=this._calculatePatternLength(e)/2)&&(t+8>=this._counters.length||this._counters[t+7]>=this._calculatePatternLength(t)/2)},n.prototype._calculatePatternLength=function(e){var t,r=0;for(t=e;t<e+7;t++)r+=this._counters[t];return r},n.prototype._thresholdResultPattern=function(e,t){var r,n,o,i,a,s=this,c={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},u=t;for(o=0;o<e.length;o++){for(a=s._charToPattern(e[o]),i=6;i>=0;i--)r=2==(1&i)?c.bar:c.space,n=1==(1&a)?r.wide:r.narrow,n.size+=s._counters[u+i],n.counts++,a>>=1;u+=8}return["space","bar"].forEach((function(e){var t=c[e];t.wide.min=Math.floor((t.narrow.size/t.narrow.counts+t.wide.size/t.wide.counts)/2),t.narrow.max=Math.ceil(t.wide.min),t.wide.max=Math.ceil((t.wide.size*s.MAX_ACCEPTABLE+s.PADDING)/t.wide.counts)})),c},n.prototype._charToPattern=function(e){var t,r=this,n=e.charCodeAt(0);for(t=0;t<r.ALPHABET.length;t++)if(r.ALPHABET[t]===n)return r.CHARACTER_ENCODINGS[t];return 0},n.prototype._validateResult=function(e,t){var r,n,o,i,a,s,c=this,u=c._thresholdResultPattern(e,t),d=t;for(r=0;r<e.length;r++){for(s=c._charToPattern(e[r]),n=6;n>=0;n--){if(o=0==(1&n)?u.bar:u.space,i=1==(1&s)?o.wide:o.narrow,(a=c._counters[d+n])<i.min||a>i.max)return!1;s>>=1}d+=8}return!0},n.prototype._patternToChar=function(e){var t,r=this;for(t=0;t<r.CHARACTER_ENCODINGS.length;t++)if(r.CHARACTER_ENCODINGS[t]===e)return String.fromCharCode(r.ALPHABET[t]);return-1},n.prototype._computeAlternatingThreshold=function(e,t){var r,n,o=Number.MAX_VALUE,i=0;for(r=e;r<t;r+=2)n=this._counters[r],n>i&&(i=n),n<o&&(o=n);return(o+i)/2|0},n.prototype._toPattern=function(e){var t,r,n,o,i=7,a=e+i,s=1<<i-1,c=0;if(a>this._counters.length)return-1;for(t=this._computeAlternatingThreshold(e,a),r=this._computeAlternatingThreshold(e+1,a),n=0;n<i;n++)o=0==(1&n)?t:r,this._counters[e+n]>o&&(c|=s),s>>=1;return c},n.prototype._isStartEnd=function(e){var t;for(t=0;t<this.START_END.length;t++)if(this.START_END[t]===e)return!0;return!1},n.prototype._sumCounters=function(e,t){var r,n=0;for(r=e;r<t;r++)n+=this._counters[r];return n},n.prototype._findStart=function(){var e,t,r,n=this,o=n._nextUnset(n._row);for(e=1;e<this._counters.length;e++)if(-1!==(t=n._toPattern(e))&&n._isStartEnd(t))return o+=n._sumCounters(0,e),r=o+n._sumCounters(e,e+8),{start:o,end:r,startCounter:e,endCounter:e+8}},t.a=n},function(e,t,r){"use strict";function n(){i.a.call(this)}function o(e,t,r){for(var n=r.length,o=0,i=0;n--;)i+=e[r[n]],o+=t[r[n]];return i/o}var i=r(1),a={CODE_SHIFT:{value:98},CODE_C:{value:99},CODE_B:{value:100},CODE_A:{value:101},START_CODE_A:{value:103},START_CODE_B:{value:104},START_CODE_C:{value:105},STOP_CODE:{value:106},CODE_PATTERN:{value:[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]},SINGLE_CODE_ERROR:{value:.64},AVG_CODE_ERROR:{value:.3},FORMAT:{value:"code_128",writeable:!1},MODULE_INDICES:{value:{bar:[0,2,4],space:[1,3,5]}}};n.prototype=Object.create(i.a.prototype,a),n.prototype.constructor=n,n.prototype._decodeCode=function(e,t){var r,n,i,a=[0,0,0,0,0,0],s=this,c=e,u=!s._row[c],d=0,f={error:Number.MAX_VALUE,code:-1,start:e,end:e,correction:{bar:1,space:1}};for(r=c;r<s._row.length;r++)if(s._row[r]^u)a[d]++;else{if(d===a.length-1){for(t&&s._correct(a,t),n=0;n<s.CODE_PATTERN.length;n++)(i=s._matchPattern(a,s.CODE_PATTERN[n]))<f.error&&(f.code=n,f.error=i);return f.end=r,-1===f.code||f.error>s.AVG_CODE_ERROR?null:(s.CODE_PATTERN[f.code]&&(f.correction.bar=o(s.CODE_PATTERN[f.code],a,this.MODULE_INDICES.bar),f.correction.space=o(s.CODE_PATTERN[f.code],a,this.MODULE_INDICES.space)),f)}d++,a[d]=1,u=!u}return null},n.prototype._correct=function(e,t){this._correctBars(e,t.bar,this.MODULE_INDICES.bar),this._correctBars(e,t.space,this.MODULE_INDICES.space)},n.prototype._findStart=function(){var e,t,r,n,i,a=[0,0,0,0,0,0],s=this,c=s._nextSet(s._row),u=!1,d=0,f={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}};for(e=c;e<s._row.length;e++)if(s._row[e]^u)a[d]++;else{if(d===a.length-1){for(i=0,n=0;n<a.length;n++)i+=a[n];for(t=s.START_CODE_A;t<=s.START_CODE_C;t++)(r=s._matchPattern(a,s.CODE_PATTERN[t]))<f.error&&(f.code=t,f.error=r);if(f.error<s.AVG_CODE_ERROR)return f.start=e-i,f.end=e,f.correction.bar=o(s.CODE_PATTERN[f.code],a,this.MODULE_INDICES.bar),f.correction.space=o(s.CODE_PATTERN[f.code],a,this.MODULE_INDICES.space),f;for(n=0;n<4;n++)a[n]=a[n+2];a[4]=0,a[5]=0,d--}else d++;a[d]=1,u=!u}return null},n.prototype._decode=function(){var e,t,r=this,n=r._findStart(),o=null,i=!1,a=[],s=0,c=0,u=[],d=[],f=!1,p=!0;if(null===n)return null;switch(o={code:n.code,start:n.start,end:n.end,correction:{bar:n.correction.bar,space:n.correction.space}},d.push(o),c=o.code,o.code){case r.START_CODE_A:e=r.CODE_A;break;case r.START_CODE_B:e=r.CODE_B;break;case r.START_CODE_C:e=r.CODE_C;break;default:return null}for(;!i;){if(t=f,f=!1,null!==(o=r._decodeCode(o.end,o.correction)))switch(o.code!==r.STOP_CODE&&(p=!0),o.code!==r.STOP_CODE&&(u.push(o.code),s++,c+=s*o.code),d.push(o),e){case r.CODE_A:if(o.code<64)a.push(String.fromCharCode(32+o.code));else if(o.code<96)a.push(String.fromCharCode(o.code-64));else switch(o.code!==r.STOP_CODE&&(p=!1),o.code){case r.CODE_SHIFT:f=!0,e=r.CODE_B;break;case r.CODE_B:e=r.CODE_B;break;case r.CODE_C:e=r.CODE_C;break;case r.STOP_CODE:i=!0}break;case r.CODE_B:if(o.code<96)a.push(String.fromCharCode(32+o.code));else switch(o.code!==r.STOP_CODE&&(p=!1),o.code){case r.CODE_SHIFT:f=!0,e=r.CODE_A;break;case r.CODE_A:e=r.CODE_A;break;case r.CODE_C:e=r.CODE_C;break;case r.STOP_CODE:i=!0}break;case r.CODE_C:if(o.code<100)a.push(o.code<10?"0"+o.code:o.code);else switch(o.code!==r.STOP_CODE&&(p=!1),o.code){case r.CODE_A:e=r.CODE_A;break;case r.CODE_B:e=r.CODE_B;break;case r.STOP_CODE:i=!0}}else i=!0;t&&(e=e===r.CODE_A?r.CODE_B:r.CODE_A)}return null===o?null:(o.end=r._nextUnset(r._row,o.end),r._verifyTrailingWhitespace(o)?(c-=s*u[u.length-1])%103!==u[u.length-1]?null:a.length?(p&&a.splice(a.length-1,1),{code:a.join(""),start:n.start,end:o.end,codeset:e,startInfo:n,decodedCodes:d,endInfo:o}):null:null)},i.a.prototype._verifyTrailingWhitespace=function(e){var t,r=this;return t=e.end+(e.end-e.start)/2,t<r._row.length&&r._matchRange(e.end,t,0)?e:null},t.a=n},function(e,t,r){"use strict";function n(){o.a.call(this)}var o=r(31),i={IOQ:/[IOQ]/g,AZ09:/[A-Z0-9]{17}/};n.prototype=Object.create(o.a.prototype),n.prototype.constructor=n,n.prototype._decode=function(){var e=o.a.prototype._decode.apply(this);if(!e)return null;var t=e.code;return t?(t=t.replace(i.IOQ,""),t.match(i.AZ09)&&this._checkChecksum(t)?(e.code=t,e):null):null},n.prototype._checkChecksum=function(e){return!!e},t.a=n},function(e,t,r){"use strict";function n(){o.a.call(this)}var o=r(1),i=r(3),a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",s={ALPHABETH_STRING:{value:a},ALPHABET:{value:a.split("").map((function(e){return e.charCodeAt(0)}))},CHARACTER_ENCODINGS:{value:[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]},ASTERISK:{value:350},FORMAT:{value:"code_93",writeable:!1}};n.prototype=Object.create(o.a.prototype,s),n.prototype.constructor=n,n.prototype._decode=function(){var e,t,r,n,o=this,a=[0,0,0,0,0,0],s=[],c=o._findStart();if(!c)return null;n=o._nextSet(o._row,c.end);do{if(a=o._toCounters(n,a),(r=o._toPattern(a))<0)return null;if((e=o._patternToChar(r))<0)return null;s.push(e),t=n,n+=i.a.sum(a),n=o._nextSet(o._row,n)}while("*"!==e);return s.pop(),s.length&&o._verifyEnd(t,n,a)&&o._verifyChecksums(s)?(s=s.slice(0,s.length-2),null===(s=o._decodeExtended(s))?null:{code:s.join(""),start:c.start,end:n,startInfo:c,decodedCodes:s}):null},n.prototype._verifyEnd=function(e,t){return!(e===t||!this._row[t])},n.prototype._patternToChar=function(e){var t,r=this;for(t=0;t<r.CHARACTER_ENCODINGS.length;t++)if(r.CHARACTER_ENCODINGS[t]===e)return String.fromCharCode(r.ALPHABET[t]);return-1},n.prototype._toPattern=function(e){for(var t=e.length,r=0,n=0,o=0;o<t;o++)n+=e[o];for(var i=0;i<t;i++){var a=Math.round(9*e[i]/n);if(a<1||a>4)return-1;if(0==(1&i))for(var s=0;s<a;s++)r=r<<1|1;else r<<=a}return r},n.prototype._findStart=function(){var e,t,r,n=this,o=n._nextSet(n._row),i=o,a=[0,0,0,0,0,0],s=0,c=!1;for(e=o;e<n._row.length;e++)if(n._row[e]^c)a[s]++;else{if(s===a.length-1){if(n._toPattern(a)===n.ASTERISK&&(r=Math.floor(Math.max(0,i-(e-i)/4)),n._matchRange(r,i,0)))return{start:i,end:e};for(i+=a[0]+a[1],t=0;t<4;t++)a[t]=a[t+2];a[4]=0,a[5]=0,s--}else s++;a[s]=1,c=!c}return null},n.prototype._decodeExtended=function(e){for(var t=e.length,r=[],n=0;n<t;n++){var o=e[n];if(o>="a"&&o<="d"){if(n>t-2)return null;var i=e[++n],a=i.charCodeAt(0),s=void 0;switch(o){case"a":if(!(i>="A"&&i<="Z"))return null;s=String.fromCharCode(a-64);break;case"b":if(i>="A"&&i<="E")s=String.fromCharCode(a-38);else if(i>="F"&&i<="J")s=String.fromCharCode(a-11);else if(i>="K"&&i<="O")s=String.fromCharCode(a+16);else if(i>="P"&&i<="S")s=String.fromCharCode(a+43);else{if(!(i>="T"&&i<="Z"))return null;s=String.fromCharCode(127)}break;case"c":if(i>="A"&&i<="O")s=String.fromCharCode(a-32);else{if("Z"!==i)return null;s=":"}break;case"d":if(!(i>="A"&&i<="Z"))return null;s=String.fromCharCode(a+32)}r.push(s)}else r.push(o)}return r},n.prototype._verifyChecksums=function(e){return this._matchCheckChar(e,e.length-2,20)&&this._matchCheckChar(e,e.length-1,15)},n.prototype._matchCheckChar=function(e,t,r){var n=this,o=e.slice(0,t),i=o.length,a=o.reduce((function(e,t,o){return e+((-1*o+(i-1))%r+1)*n.ALPHABET.indexOf(t.charCodeAt(0))}),0);return this.ALPHABET[a%47]===e[t].charCodeAt(0)},t.a=n},function(e,t,r){"use strict";function n(){o.a.call(this)}var o=r(4),i={FORMAT:{value:"ean_2",writeable:!1}};n.prototype=Object.create(o.a.prototype,i),n.prototype.constructor=n,n.prototype.decode=function(e,t){this._row=e;var r,n=0,o=0,i=t,a=this._row.length,s=[],c=[];for(o=0;o<2&&i<a;o++){if(!(r=this._decodeCode(i)))return null;c.push(r),s.push(r.code%10),r.code>=this.CODE_G_START&&(n|=1<<1-o),1!=o&&(i=this._nextSet(this._row,r.end),i=this._nextUnset(this._row,i))}return 2!=s.length||parseInt(s.join(""))%4!==n?null:{code:s.join(""),decodedCodes:c,end:r.end}},t.a=n},function(e,t,r){"use strict";function n(){a.a.call(this)}function o(e){var t;for(t=0;t<10;t++)if(e===c[t])return t;return null}function i(e){var t,r=e.length,n=0;for(t=r-2;t>=0;t-=2)n+=e[t];for(n*=3,t=r-1;t>=0;t-=2)n+=e[t];return(n*=3)%10}var a=r(4),s={FORMAT:{value:"ean_5",writeable:!1}},c=[24,20,18,17,12,6,3,10,9,5];n.prototype=Object.create(a.a.prototype,s),n.prototype.constructor=n,n.prototype.decode=function(e,t){this._row=e;var r,n=0,a=0,s=t,c=this._row.length,u=[],d=[];for(a=0;a<5&&s<c;a++){if(!(r=this._decodeCode(s)))return null;d.push(r),u.push(r.code%10),r.code>=this.CODE_G_START&&(n|=1<<4-a),4!=a&&(s=this._nextSet(this._row,r.end),s=this._nextUnset(this._row,s))}return 5!=u.length||i(u)!==o(n)?null:{code:u.join(""),decodedCodes:d,end:r.end}},t.a=n},function(e,t,r){"use strict";function n(e,t){o.a.call(this,e,t)}var o=r(4),i={FORMAT:{value:"ean_8",writeable:!1}};n.prototype=Object.create(o.a.prototype,i),n.prototype.constructor=n,n.prototype._decodePayload=function(e,t,r){var n,o=this;for(n=0;n<4;n++){if(!(e=o._decodeCode(e.end,o.CODE_G_START)))return null;t.push(e.code),r.push(e)}if(null===(e=o._findPattern(o.MIDDLE_PATTERN,e.end,!0,!1)))return null;for(r.push(e),n=0;n<4;n++){if(!(e=o._decodeCode(e.end,o.CODE_G_START)))return null;r.push(e),t.push(e.code)}return e},t.a=n},function(e,t,r){"use strict";function n(e){e=a()(o(),e),s.a.call(this,e),this.barSpaceRatio=[1,1],e.normalizeBarSpaceWidth&&(this.SINGLE_CODE_ERROR=.38,this.AVG_CODE_ERROR=.09)}function o(){var e={};return Object.keys(n.CONFIG_KEYS).forEach((function(t){e[t]=n.CONFIG_KEYS[t].default})),e}var i=r(28),a=r.n(i),s=r(1),c=1,u=3,d={START_PATTERN:{value:[c,c,c,c]},STOP_PATTERN:{value:[c,c,u]},CODE_PATTERN:{value:[[c,c,u,u,c],[u,c,c,c,u],[c,u,c,c,u],[u,u,c,c,c],[c,c,u,c,u],[u,c,u,c,c],[c,u,u,c,c],[c,c,c,u,u],[u,c,c,u,c],[c,u,c,u,c]]},SINGLE_CODE_ERROR:{value:.78,writable:!0},AVG_CODE_ERROR:{value:.38,writable:!0},MAX_CORRECTION_FACTOR:{value:5},FORMAT:{value:"i2of5"}};n.prototype=Object.create(s.a.prototype,d),n.prototype.constructor=n,n.prototype._matchPattern=function(e,t){if(this.config.normalizeBarSpaceWidth){var r,n=[0,0],o=[0,0],i=[0,0],a=this.MAX_CORRECTION_FACTOR,c=1/a;for(r=0;r<e.length;r++)n[r%2]+=e[r],o[r%2]+=t[r];for(i[0]=o[0]/n[0],i[1]=o[1]/n[1],i[0]=Math.max(Math.min(i[0],a),c),i[1]=Math.max(Math.min(i[1],a),c),this.barSpaceRatio=i,r=0;r<e.length;r++)e[r]*=this.barSpaceRatio[r%2]}return s.a.prototype._matchPattern.call(this,e,t)},n.prototype._findPattern=function(e,t,r,n){var o,i,a,s,c=[],u=this,d=0,f={error:Number.MAX_VALUE,code:-1,start:0,end:0},p=u.AVG_CODE_ERROR;for(r=r||!1,n=n||!1,t||(t=u._nextSet(u._row)),o=0;o<e.length;o++)c[o]=0;for(o=t;o<u._row.length;o++)if(u._row[o]^r)c[d]++;else{if(d===c.length-1){for(s=0,a=0;a<c.length;a++)s+=c[a];if((i=u._matchPattern(c,e))<p)return f.error=i,f.start=o-s,f.end=o,f;if(!n)return null;for(a=0;a<c.length-2;a++)c[a]=c[a+2];c[c.length-2]=0,c[c.length-1]=0,d--}else d++;c[d]=1,r=!r}return null},n.prototype._findStart=function(){for(var e,t,r=this,n=r._nextSet(r._row),o=1;!t;){if(!(t=r._findPattern(r.START_PATTERN,n,!1,!0)))return null;if(o=Math.floor((t.end-t.start)/4),(e=t.start-10*o)>=0&&r._matchRange(e,t.start,0))return t;n=t.end,t=null}},n.prototype._verifyTrailingWhitespace=function(e){var t,r=this;return t=e.end+(e.end-e.start)/2,t<r._row.length&&r._matchRange(e.end,t,0)?e:null},n.prototype._findEnd=function(){var e,t,r=this;return r._row.reverse(),e=r._findPattern(r.STOP_PATTERN),r._row.reverse(),null===e?null:(t=e.start,e.start=r._row.length-e.end,e.end=r._row.length-t,null!==e?r._verifyTrailingWhitespace(e):null)},n.prototype._decodePair=function(e){var t,r,n=[],o=this;for(t=0;t<e.length;t++){if(!(r=o._decodeCode(e[t])))return null;n.push(r)}return n},n.prototype._decodeCode=function(e){var t,r,n,o=this,i=o.AVG_CODE_ERROR,a={error:Number.MAX_VALUE,code:-1,start:0,end:0};for(t=0;t<e.length;t++)e[t];for(n=0;n<o.CODE_PATTERN.length;n++)(r=o._matchPattern(e,o.CODE_PATTERN[n]))<a.error&&(a.code=n,a.error=r);if(a.error<i)return a},n.prototype._decodePayload=function(e,t,r){for(var n,o,i=this,a=0,s=e.length,c=[[0,0,0,0,0],[0,0,0,0,0]];a<s;){for(n=0;n<5;n++)c[0][n]=e[a]*this.barSpaceRatio[0],c[1][n]=e[a+1]*this.barSpaceRatio[1],a+=2;if(!(o=i._decodePair(c)))return null;for(n=0;n<o.length;n++)t.push(o[n].code+""),r.push(o[n])}return o},n.prototype._verifyCounterLength=function(e){return e.length%10==0},n.prototype._decode=function(){var e,t,r,n=this,o=[],i=[];return(e=n._findStart())?(i.push(e),(t=n._findEnd())?(r=n._fillCounters(e.end,t.start,!1),n._verifyCounterLength(r)&&n._decodePayload(r,o,i)?o.length%2!=0||o.length<6?null:(i.push(t),{code:o.join(""),start:e.start,end:t.end,startInfo:e,decodedCodes:i}):null):null):null},n.CONFIG_KEYS={normalizeBarSpaceWidth:{type:"boolean",default:!1,description:"If true, the reader tries to normalize thewidth-difference between bars and spaces"}},t.a=n},function(e,t,r){"use strict";function n(e,t){o.a.call(this,e,t)}var o=r(4),i={CODE_FREQUENCY:{value:[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]},STOP_PATTERN:{value:[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]},FORMAT:{value:"upc_e",writeable:!1}};n.prototype=Object.create(o.a.prototype,i),n.prototype.constructor=n,n.prototype._decodePayload=function(e,t,r){var n,o=this,i=0;for(n=0;n<6;n++){if(!(e=o._decodeCode(e.end)))return null;e.code>=o.CODE_G_START&&(e.code=e.code-o.CODE_G_START,i|=1<<5-n),t.push(e.code),r.push(e)}return o._determineParity(i,t)?e:null},n.prototype._determineParity=function(e,t){var r,n;for(n=0;n<this.CODE_FREQUENCY.length;n++)for(r=0;r<this.CODE_FREQUENCY[n].length;r++)if(e===this.CODE_FREQUENCY[n][r])return t.unshift(n),t.push(r),!0;return!1},n.prototype._convertToUPCA=function(e){var t=[e[0]],r=e[e.length-2];return t=r<=2?t.concat(e.slice(1,3)).concat([r,0,0,0,0]).concat(e.slice(3,6)):3===r?t.concat(e.slice(1,4)).concat([0,0,0,0,0]).concat(e.slice(4,6)):4===r?t.concat(e.slice(1,5)).concat([0,0,0,0,0,e[5]]):t.concat(e.slice(1,6)).concat([0,0,0,0,r]),t.push(e[e.length-1]),t},n.prototype._checksum=function(e){return o.a.prototype._checksum.call(this,this._convertToUPCA(e))},n.prototype._findEnd=function(e,t){return t=!0,o.a.prototype._findEnd.call(this,e,t)},n.prototype._verifyTrailingWhitespace=function(e){var t,r=this;if((t=e.end+(e.end-e.start)/2)<r._row.length&&r._matchRange(e.end,t,0))return e},t.a=n},function(e,t,r){"use strict";function n(e,t){o.a.call(this,e,t)}var o=r(4),i={FORMAT:{value:"upc_a",writeable:!1}};n.prototype=Object.create(o.a.prototype,i),n.prototype.constructor=n,n.prototype._decode=function(){var e=o.a.prototype._decode.call(this);return e&&e.code&&13===e.code.length&&"0"===e.code.charAt(0)?(e.code=e.code.substring(1),e):null},t.a=n},function(e,t){function r(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}e.exports=r},function(e,t){function r(){var e=new Float32Array(4);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}e.exports=r},function(e,t){function r(e,t){var r=t[0],n=t[1],o=t[2],i=t[3],a=r*i-o*n;return a?(a=1/a,e[0]=i*a,e[1]=-n*a,e[2]=-o*a,e[3]=r*a,e):null}e.exports=r},function(e,t){function r(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}e.exports=r},function(e,t){function r(e,t,r){var n=t[0],o=t[1];return e[0]=r[0]*n+r[2]*o,e[1]=r[1]*n+r[3]*o,e}e.exports=r},function(e,t){function r(e){var t=new Float32Array(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}e.exports=r},function(e,t,r){function n(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var o=r(122),i=r(123),a=r(124),s=r(125),c=r(126);n.prototype.clear=o,n.prototype.delete=i,n.prototype.get=a,n.prototype.has=s,n.prototype.set=c,e.exports=n},function(e,t,r){function n(e){var t=this.__data__=new o(e);this.size=t.size}var o=r(10),i=r(149),a=r(150),s=r(151),c=r(152),u=r(153);n.prototype.clear=i,n.prototype.delete=a,n.prototype.get=s,n.prototype.has=c,n.prototype.set=u,e.exports=n},function(e,t,r){var n=r(5),o=n.Uint8Array;e.exports=o},function(e,t){function r(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}e.exports=r},function(e,t,r){function n(e,t){var r=a(e),n=!r&&i(e),d=!r&&!n&&s(e),p=!r&&!n&&!d&&u(e),l=r||n||d||p,h=l?o(e.length,String):[],v=h.length;for(var m in e)!t&&!f.call(e,m)||l&&("length"==m||d&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||c(m,v))||h.push(m);return h}var o=r(107),i=r(18),a=r(2),s=r(44),c=r(15),u=r(45),d=Object.prototype,f=d.hasOwnProperty;e.exports=n},function(e,t){function r(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}e.exports=r},function(e,t){function r(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}e.exports=r},function(e,t,r){var n=r(0),o=Object.create,i=function(){function e(){}return function(t){if(!n(t))return{};if(o)return o(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=i},function(e,t,r){function n(e,t,r,a,s){var c=-1,u=e.length;for(r||(r=i),s||(s=[]);++c<u;){var d=e[c];t>0&&r(d)?t>1?n(d,t-1,r,a,s):o(s,d):a||(s[s.length]=d)}return s}var o=r(90),i=r(128);e.exports=n},function(e,t,r){var n=r(117),o=n();e.exports=o},function(e,t,r){function n(e,t){t=o(t,e);for(var r=0,n=t.length;null!=e&&r<n;)e=e[i(t[r++])];return r&&r==n?e:void 0}var o=r(13),i=r(23);e.exports=n},function(e,t){function r(e,t){return null!=e&&t in Object(e)}e.exports=r},function(e,t,r){function n(e){return i(e)&&o(e)==a}var o=r(8),i=r(6),a="[object Arguments]";e.exports=n},function(e,t,r){function n(e){return!(!a(e)||i(e))&&(o(e)?h:u).test(s(e))}var o=r(25),i=r(132),a=r(0),s=r(155),c=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,d=Function.prototype,f=Object.prototype,p=d.toString,l=f.hasOwnProperty,h=RegExp("^"+p.call(l).replace(c,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=n},function(e,t,r){function n(e){return a(e)&&i(e.length)&&!!s[o(e)]}var o=r(8),i=r(26),a=r(6),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=n},function(e,t,r){function n(e){if(!o(e))return a(e);var t=i(e),r=[];for(var n in e)("constructor"!=n||!t&&c.call(e,n))&&r.push(n);return r}var o=r(0),i=r(40),a=r(144),s=Object.prototype,c=s.hasOwnProperty;e.exports=n},function(e,t,r){function n(e,t,r,d,f){e!==t&&a(t,(function(a,u){if(c(a))f||(f=new o),s(e,t,u,r,n,d,f);else{var p=d?d(e[u],a,u+"",e,t,f):void 0;void 0===p&&(p=a),i(e,u,p)}}),u)}var o=r(85),i=r(35),a=r(93),s=r(101),c=r(0),u=r(46);e.exports=n},function(e,t,r){function n(e,t,r,n,y,C,_){var T=e[r],S=t[r],R=_.get(S);if(R)o(e,r,R);else{var b=C?C(T,S,r+"",e,t,_):void 0,E=void 0===b;if(E){var x=d(S),P=!x&&p(S),w=!x&&!P&&m(S);b=S,x||P||w?d(T)?b=T:f(T)?b=s(T):P?(E=!1,b=i(S,!0)):w?(E=!1,b=a(S,!0)):b=[]:v(S)||u(S)?(b=T,u(T)?b=g(T):(!h(T)||n&&l(T))&&(b=c(S))):E=!1}E&&(_.set(S,b),y(b,S,n,C,_),_.delete(S)),o(e,r,b)}}var o=r(35),i=r(111),a=r(112),s=r(113),c=r(127),u=r(18),d=r(2),f=r(159),p=r(44),l=r(25),h=r(0),v=r(160),m=r(45),g=r(164);e.exports=n},function(e,t,r){function n(e,t){return o(e,t,(function(t,r){return i(e,r)}))}var o=r(103),i=r(158);e.exports=n},function(e,t,r){function n(e,t,r){for(var n=-1,s=t.length,c={};++n<s;){var u=t[n],d=o(e,u);r(d,u)&&i(c,a(u,e),d)}return c}var o=r(94),i=r(105),a=r(13);e.exports=n},function(e,t,r){function n(e,t){return a(i(e,t,o),e+"")}var o=r(43),i=r(41),a=r(42);e.exports=n},function(e,t,r){function n(e,t,r,n){if(!s(e))return e;t=i(t,e);for(var u=-1,d=t.length,f=d-1,p=e;null!=p&&++u<d;){var l=c(t[u]),h=r;if(u!=f){var v=p[l];h=n?n(v,l,p):void 0,void 0===h&&(h=s(v)?v:a(t[u+1])?[]:{})}o(p,l,h),p=p[l]}return e}var o=r(36),i=r(13),a=r(15),s=r(0),c=r(23);e.exports=n},function(e,t,r){var n=r(156),o=r(37),i=r(43),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:i;e.exports=a},function(e,t){function r(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}e.exports=r},function(e,t,r){function n(e){if("string"==typeof e)return e;if(a(e))return i(e,n)+"";if(s(e))return d?d.call(e):"";var t=e+"";return"0"==t&&1/e==-c?"-0":t}var o=r(11),i=r(89),a=r(2),s=r(27),c=1/0,u=o?o.prototype:void 0,d=u?u.toString:void 0;e.exports=n},function(e,t){function r(e){return function(t){return e(t)}}e.exports=r},function(e,t,r){function n(e){var t=new e.constructor(e.byteLength);return new o(t).set(new o(e)),t}var o=r(86);e.exports=n},function(e,t,r){(function(e){function n(e,t){if(t)return e.slice();var r=e.length,n=u?u(r):new e.constructor(r);return e.copy(n),n}var o=r(5),i="object"==typeof t&&t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i,c=s?o.Buffer:void 0,u=c?c.allocUnsafe:void 0;e.exports=n}).call(t,r(29)(e))},function(e,t,r){function n(e,t){var r=t?o(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var o=r(110);e.exports=n},function(e,t){function r(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}e.exports=r},function(e,t,r){function n(e,t,r,n){var a=!r;r||(r={});for(var s=-1,c=t.length;++s<c;){var u=t[s],d=n?n(r[u],e[u],u,r,e):void 0;void 0===d&&(d=e[u]),a?i(r,u,d):o(r,u,d)}return r}var o=r(36),i=r(21);e.exports=n},function(e,t,r){var n=r(5),o=n["__core-js_shared__"];e.exports=o},function(e,t,r){function n(e){return o((function(t,r){var n=-1,o=r.length,a=o>1?r[o-1]:void 0,s=o>2?r[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(r[0],r[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++n<o;){var c=r[n];c&&e(t,c,n,a)}return t}))}var o=r(104),i=r(129);e.exports=n},function(e,t){function r(e){return function(t,r,n){for(var o=-1,i=Object(t),a=n(t),s=a.length;s--;){var c=a[e?s:++o];if(!1===r(i[c],c,i))break}return t}}e.exports=r},function(e,t,r){function n(e){return a(i(e,void 0,o),e+"")}var o=r(157),i=r(41),a=r(42);e.exports=n},function(e,t,r){function n(e){var t=a.call(e,c),r=e[c];try{e[c]=void 0;var n=!0}catch(e){}var o=s.call(e);return n&&(t?e[c]=r:delete e[c]),o}var o=r(11),i=Object.prototype,a=i.hasOwnProperty,s=i.toString,c=o?o.toStringTag:void 0;e.exports=n},function(e,t){function r(e,t){return null==e?void 0:e[t]}e.exports=r},function(e,t,r){function n(e,t,r){t=o(t,e);for(var n=-1,d=t.length,f=!1;++n<d;){var p=u(t[n]);if(!(f=null!=e&&r(e,p)))break;e=e[p]}return f||++n!=d?f:!!(d=null==e?0:e.length)&&c(d)&&s(p,d)&&(a(e)||i(e))}var o=r(13),i=r(18),a=r(2),s=r(15),c=r(26),u=r(23);e.exports=n},function(e,t,r){function n(){this.__data__=o?o(null):{},this.size=0}var o=r(16);e.exports=n},function(e,t){function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=r},function(e,t,r){function n(e){var t=this.__data__;if(o){var r=t[e];return r===i?void 0:r}return s.call(t,e)?t[e]:void 0}var o=r(16),i="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;e.exports=n},function(e,t,r){function n(e){var t=this.__data__;return o?void 0!==t[e]:a.call(t,e)}var o=r(16),i=Object.prototype,a=i.hasOwnProperty;e.exports=n},function(e,t,r){function n(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=o&&void 0===t?i:t,this}var o=r(16),i="__lodash_hash_undefined__";e.exports=n},function(e,t,r){function n(e){return"function"!=typeof e.constructor||a(e)?{}:o(i(e))}var o=r(91),i=r(39),a=r(40);e.exports=n},function(e,t,r){function n(e){return a(e)||i(e)||!!(s&&e&&e[s])}var o=r(11),i=r(18),a=r(2),s=o?o.isConcatSpreadable:void 0;e.exports=n},function(e,t,r){function n(e,t,r){if(!s(r))return!1;var n=typeof t;return!!("number"==n?i(r)&&a(t,r.length):"string"==n&&t in r)&&o(r[t],e)}var o=r(17),i=r(24),a=r(15),s=r(0);e.exports=n},function(e,t,r){function n(e,t){if(o(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!i(e))||s.test(e)||!a.test(e)||null!=t&&e in Object(t)}var o=r(2),i=r(27),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=n},function(e,t){function r(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=r},function(e,t,r){function n(e){return!!i&&i in e}var o=r(115),i=function(){var e=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=n},function(e,t){function r(){this.__data__=[],this.size=0}e.exports=r},function(e,t,r){function n(e){var t=this.__data__,r=o(t,e);return!(r<0)&&(r==t.length-1?t.pop():a.call(t,r,1),--this.size,!0)}var o=r(12),i=Array.prototype,a=i.splice;e.exports=n},function(e,t,r){function n(e){var t=this.__data__,r=o(t,e);return r<0?void 0:t[r][1]}var o=r(12);e.exports=n},function(e,t,r){function n(e){return o(this.__data__,e)>-1}var o=r(12);e.exports=n},function(e,t,r){function n(e,t){var r=this.__data__,n=o(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var o=r(12);e.exports=n},function(e,t,r){function n(){this.size=0,this.__data__={hash:new o,map:new(a||i),string:new o}}var o=r(84),i=r(10),a=r(33);e.exports=n},function(e,t,r){function n(e){var t=o(this,e).delete(e);return this.size-=t?1:0,t}var o=r(14);e.exports=n},function(e,t,r){function n(e){return o(this,e).get(e)}var o=r(14);e.exports=n},function(e,t,r){function n(e){return o(this,e).has(e)}var o=r(14);e.exports=n},function(e,t,r){function n(e,t){var r=o(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var o=r(14);e.exports=n},function(e,t,r){function n(e){var t=o(e,(function(e){return r.size===i&&r.clear(),e})),r=t.cache;return t}var o=r(161),i=500;e.exports=n},function(e,t){function r(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}e.exports=r},function(e,t,r){(function(e){var n=r(38),o="object"==typeof t&&t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o,s=a&&n.process,c=function(){try{return s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=c}).call(t,r(29)(e))},function(e,t){function r(e){return o.call(e)}var n=Object.prototype,o=n.toString;e.exports=r},function(e,t){function r(e,t){return function(r){return e(t(r))}}e.exports=r},function(e,t){function r(e){var t=0,r=0;return function(){var a=i(),s=o-(a-r);if(r=a,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var n=800,o=16,i=Date.now;e.exports=r},function(e,t,r){function n(){this.__data__=new o,this.size=0}var o=r(10);e.exports=n},function(e,t){function r(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}e.exports=r},function(e,t){function r(e){return this.__data__.get(e)}e.exports=r},function(e,t){function r(e){return this.__data__.has(e)}e.exports=r},function(e,t,r){function n(e,t){var r=this.__data__;if(r instanceof o){var n=r.__data__;if(!i||n.length<s-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new a(n)}return r.set(e,t),this.size=r.size,this}var o=r(10),i=r(33),a=r(34),s=200;e.exports=n},function(e,t,r){var n=r(143),o=/^\./,i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,s=n((function(e){var t=[];return o.test(e)&&t.push(""),e.replace(i,(function(e,r,n,o){t.push(n?o.replace(a,"$1"):r||e)})),t}));e.exports=s},function(e,t){function r(e){if(null!=e){try{return o.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var n=Function.prototype,o=n.toString;e.exports=r},function(e,t){function r(e){return function(){return e}}e.exports=r},function(e,t,r){function n(e){return null!=e&&e.length?o(e,1):[]}var o=r(92);e.exports=n},function(e,t,r){function n(e,t){return null!=e&&i(e,t,o)}var o=r(95),i=r(121);e.exports=n},function(e,t,r){function n(e){return i(e)&&o(e)}var o=r(24),i=r(6);e.exports=n},function(e,t,r){function n(e){if(!a(e)||o(e)!=s)return!1;var t=i(e);if(null===t)return!0;var r=f.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&d.call(r)==p}var o=r(8),i=r(39),a=r(6),s="[object Object]",c=Function.prototype,u=Object.prototype,d=c.toString,f=u.hasOwnProperty,p=d.call(Object);e.exports=n},function(e,t,r){function n(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(n.Cache||o),r}var o=r(34),i="Expected a function";n.Cache=o,e.exports=n},function(e,t,r){var n=r(102),o=r(118),i=o((function(e,t){return null==e?{}:n(e,t)}));e.exports=i},function(e,t){function r(){return!1}e.exports=r},function(e,t,r){function n(e){return o(e,i(e))}var o=r(114),i=r(46);e.exports=n},function(e,t,r){function n(e){return null==e?"":o(e)}var o=r(108);e.exports=n},function(e,t,r){e.exports=r(48)}])}))},a57e:function(e,t,r){},a5b9:function(e,t,r){"use strict";r("a57e")},f03d:function(e,t,r){"use strict";var n=r("282b");function o(e){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type}function i(e,t,r,o,i){var a=n.writeRtpDescription(e.kind,t);if(a+=n.writeIceParameters(e.iceGatherer.getLocalParameters()),a+=n.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":i||"active"),a+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?a+="a=sendrecv\r\n":e.rtpSender?a+="a=sendonly\r\n":e.rtpReceiver?a+="a=recvonly\r\n":a+="a=inactive\r\n",e.rtpSender){var s=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=s;var c="msid:"+(o?o.id:"-")+" "+s+"\r\n";a+="a="+c,a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+c,e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+c,a+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+n.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+n.localCName+"\r\n"),a}function a(e,t){var r=!1;return e=JSON.parse(JSON.stringify(e)),e.filter((function(e){if(e&&(e.urls||e.url)){var n=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var o="string"===typeof n;return o&&(n=[n]),n=n.filter((function(e){var n=0===e.indexOf("turn:")&&-1!==e.indexOf("transport=udp")&&-1===e.indexOf("turn:[")&&!r;return n?(r=!0,!0):0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp")})),delete e.url,e.urls=o?n[0]:n,!!n.length}}))}function s(e,t){var r={codecs:[],headerExtensions:[],fecMechanisms:[]},n=function(e,t){e=parseInt(e,10);for(var r=0;r<t.length;r++)if(t[r].payloadType===e||t[r].preferredPayloadType===e)return t[r]},o=function(e,t,r,o){var i=n(e.parameters.apt,r),a=n(t.parameters.apt,o);return i&&a&&i.name.toLowerCase()===a.name.toLowerCase()};return e.codecs.forEach((function(n){for(var i=0;i<t.codecs.length;i++){var a=t.codecs[i];if(n.name.toLowerCase()===a.name.toLowerCase()&&n.clockRate===a.clockRate){if("rtx"===n.name.toLowerCase()&&n.parameters&&a.parameters.apt&&!o(n,a,e.codecs,t.codecs))continue;a=JSON.parse(JSON.stringify(a)),a.numChannels=Math.min(n.numChannels,a.numChannels),r.codecs.push(a),a.rtcpFeedback=a.rtcpFeedback.filter((function(e){for(var t=0;t<n.rtcpFeedback.length;t++)if(n.rtcpFeedback[t].type===e.type&&n.rtcpFeedback[t].parameter===e.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var n=0;n<t.headerExtensions.length;n++){var o=t.headerExtensions[n];if(e.uri===o.uri){r.headerExtensions.push(o);break}}})),r}function c(e,t,r){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(r)}function u(e,t){var r=e.getRemoteCandidates().find((function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type}));return r||e.addRemoteCandidate(t),!r}function d(e,t){var r=new Error(t);return r.name=e,r.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],r}e.exports=function(e,t){function r(t,r){r.addTrack(t),r.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function f(t,r){r.removeTrack(t),r.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:t}))}function p(t,r,n,o){var i=new Event("track");i.track=r,i.receiver=n,i.transceiver={receiver:n},i.streams=o,e.setTimeout((function(){t._dispatchEvent("track",i)}))}var l=function(r){var o=this,i=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){o[e]=i[e].bind(i)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",r=JSON.parse(JSON.stringify(r||{})),this.usingBundle="max-bundle"===r.bundlePolicy,"negotiate"===r.rtcpMuxPolicy)throw d("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(r.rtcpMuxPolicy||(r.rtcpMuxPolicy="require"),r.iceTransportPolicy){case"all":case"relay":break;default:r.iceTransportPolicy="all";break}switch(r.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:r.bundlePolicy="balanced";break}if(r.iceServers=a(r.iceServers||[],t),this._iceGatherers=[],r.iceCandidatePoolSize)for(var s=r.iceCandidatePoolSize;s>0;s--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:r.iceServers,gatherPolicy:r.iceTransportPolicy}));else r.iceCandidatePoolSize=0;this._config=r,this.transceivers=[],this._sdpSessionId=n.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(l.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(l.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),l.prototype.onicecandidate=null,l.prototype.onaddstream=null,l.prototype.ontrack=null,l.prototype.onremovestream=null,l.prototype.onsignalingstatechange=null,l.prototype.oniceconnectionstatechange=null,l.prototype.onconnectionstatechange=null,l.prototype.onicegatheringstatechange=null,l.prototype.onnegotiationneeded=null,l.prototype.ondatachannel=null,l.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"===typeof this["on"+e]&&this["on"+e](t))},l.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},l.prototype.getConfiguration=function(){return this._config},l.prototype.getLocalStreams=function(){return this.localStreams},l.prototype.getRemoteStreams=function(){return this.remoteStreams},l.prototype._createTransceiver=function(e,t){var r=this.transceivers.length>0,n={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&r)n.iceTransport=this.transceivers[0].iceTransport,n.dtlsTransport=this.transceivers[0].dtlsTransport;else{var o=this._createIceAndDtlsTransports();n.iceTransport=o.iceTransport,n.dtlsTransport=o.dtlsTransport}return t||this.transceivers.push(n),n},l.prototype.addTrack=function(t,r){if(this._isClosed)throw d("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var n,o=this.transceivers.find((function(e){return e.track===t}));if(o)throw d("InvalidAccessError","Track already exists.");for(var i=0;i<this.transceivers.length;i++)this.transceivers[i].track||this.transceivers[i].kind!==t.kind||(n=this.transceivers[i]);return n||(n=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(r)&&this.localStreams.push(r),n.track=t,n.stream=r,n.rtpSender=new e.RTCRtpSender(t,n.dtlsTransport),n.rtpSender},l.prototype.addStream=function(e){var r=this;if(t>=15025)e.getTracks().forEach((function(t){r.addTrack(t,e)}));else{var n=e.clone();e.getTracks().forEach((function(e,t){var r=n.getTracks()[t];e.addEventListener("enabled",(function(e){r.enabled=e.enabled}))})),n.getTracks().forEach((function(e){r.addTrack(e,n)}))}},l.prototype.removeTrack=function(t){if(this._isClosed)throw d("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var r=this.transceivers.find((function(e){return e.rtpSender===t}));if(!r)throw d("InvalidAccessError","Sender was not created by this connection.");var n=r.stream;r.rtpSender.stop(),r.rtpSender=null,r.track=null,r.stream=null;var o=this.transceivers.map((function(e){return e.stream}));-1===o.indexOf(n)&&this.localStreams.indexOf(n)>-1&&this.localStreams.splice(this.localStreams.indexOf(n),1),this._maybeFireNegotiationNeeded()},l.prototype.removeStream=function(e){var t=this;e.getTracks().forEach((function(e){var r=t.getSenders().find((function(t){return t.track===e}));r&&t.removeTrack(r)}))},l.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},l.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},l.prototype._createIceGatherer=function(t,r){var n=this;if(r&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var o=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(o,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var r=!e.candidate||0===Object.keys(e.candidate).length;o.state=r?"completed":"gathering",null!==n.transceivers[t].bufferedCandidateEvents&&n.transceivers[t].bufferedCandidateEvents.push(e)},o.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),o},l.prototype._gather=function(t,r){var o=this,i=this.transceivers[r].iceGatherer;if(!i.onlocalcandidate){var a=this.transceivers[r].bufferedCandidateEvents;this.transceivers[r].bufferedCandidateEvents=null,i.removeEventListener("localcandidate",this.transceivers[r].bufferCandidates),i.onlocalcandidate=function(e){if(!(o.usingBundle&&r>0)){var a=new Event("icecandidate");a.candidate={sdpMid:t,sdpMLineIndex:r};var s=e.candidate,c=!s||0===Object.keys(s).length;if(c)"new"!==i.state&&"gathering"!==i.state||(i.state="completed");else{"new"===i.state&&(i.state="gathering"),s.component=1,s.ufrag=i.getLocalParameters().usernameFragment;var u=n.writeCandidate(s);a.candidate=Object.assign(a.candidate,n.parseCandidate(u)),a.candidate.candidate=u,a.candidate.toJSON=function(){return{candidate:a.candidate.candidate,sdpMid:a.candidate.sdpMid,sdpMLineIndex:a.candidate.sdpMLineIndex,usernameFragment:a.candidate.usernameFragment}}}var d=n.getMediaSections(o._localDescription.sdp);d[a.candidate.sdpMLineIndex]+=c?"a=end-of-candidates\r\n":"a="+a.candidate.candidate+"\r\n",o._localDescription.sdp=n.getDescription(o._localDescription.sdp)+d.join("");var f=o.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}));"gathering"!==o.iceGatheringState&&(o.iceGatheringState="gathering",o._emitGatheringStateChange()),c||o._dispatchEvent("icecandidate",a),f&&(o._dispatchEvent("icecandidate",new Event("icecandidate")),o.iceGatheringState="complete",o._emitGatheringStateChange())}},e.setTimeout((function(){a.forEach((function(e){i.onlocalcandidate(e)}))}),0)}},l.prototype._createIceAndDtlsTransports=function(){var t=this,r=new e.RTCIceTransport(null);r.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var n=new e.RTCDtlsTransport(r);return n.ondtlsstatechange=function(){t._updateConnectionState()},n.onerror=function(){Object.defineProperty(n,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:r,dtlsTransport:n}},l.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var r=this.transceivers[e].iceTransport;r&&(delete r.onicestatechange,delete this.transceivers[e].iceTransport);var n=this.transceivers[e].dtlsTransport;n&&(delete n.ondtlsstatechange,delete n.onerror,delete this.transceivers[e].dtlsTransport)},l.prototype._transceive=function(e,r,o){var i=s(e.localCapabilities,e.remoteCapabilities);r&&e.rtpSender&&(i.encodings=e.sendEncodingParameters,i.rtcp={cname:n.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(i.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(i)),o&&e.rtpReceiver&&i.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach((function(e){delete e.rtx})),e.recvEncodingParameters.length?i.encodings=e.recvEncodingParameters:i.encodings=[{}],i.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(i.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(i.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(i))},l.prototype.setLocalDescription=function(e){var t,r,o=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(d("TypeError",'Unsupported type "'+e.type+'"'));if(!c("setLocalDescription",e.type,o.signalingState)||o._isClosed)return Promise.reject(d("InvalidStateError","Can not set local "+e.type+" in state "+o.signalingState));if("offer"===e.type)t=n.splitSections(e.sdp),r=t.shift(),t.forEach((function(e,t){var r=n.parseRtpParameters(e);o.transceivers[t].localCapabilities=r})),o.transceivers.forEach((function(e,t){o._gather(e.mid,t)}));else if("answer"===e.type){t=n.splitSections(o._remoteDescription.sdp),r=t.shift();var i=n.matchPrefix(r,"a=ice-lite").length>0;t.forEach((function(e,t){var a=o.transceivers[t],c=a.iceGatherer,u=a.iceTransport,d=a.dtlsTransport,f=a.localCapabilities,p=a.remoteCapabilities,l=n.isRejected(e)&&0===n.matchPrefix(e,"a=bundle-only").length;if(!l&&!a.rejected){var h=n.getIceParameters(e,r),v=n.getDtlsParameters(e,r);i&&(v.role="server"),o.usingBundle&&0!==t||(o._gather(a.mid,t),"new"===u.state&&u.start(c,h,i?"controlling":"controlled"),"new"===d.state&&d.start(v));var m=s(f,p);o._transceive(a,m.codecs.length>0,!1)}}))}return o._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?o._updateSignalingState("have-local-offer"):o._updateSignalingState("stable"),Promise.resolve()},l.prototype.setRemoteDescription=function(o){var i=this;if(-1===["offer","answer"].indexOf(o.type))return Promise.reject(d("TypeError",'Unsupported type "'+o.type+'"'));if(!c("setRemoteDescription",o.type,i.signalingState)||i._isClosed)return Promise.reject(d("InvalidStateError","Can not set remote "+o.type+" in state "+i.signalingState));var a={};i.remoteStreams.forEach((function(e){a[e.id]=e}));var l=[],h=n.splitSections(o.sdp),v=h.shift(),m=n.matchPrefix(v,"a=ice-lite").length>0,g=n.matchPrefix(v,"a=group:BUNDLE ").length>0;i.usingBundle=g;var y=n.matchPrefix(v,"a=ice-options:")[0];return i.canTrickleIceCandidates=!!y&&y.substr(14).split(" ").indexOf("trickle")>=0,h.forEach((function(c,d){var p=n.splitLines(c),h=n.getKind(c),y=n.isRejected(c)&&0===n.matchPrefix(c,"a=bundle-only").length,C=p[0].substr(2).split(" ")[2],_=n.getDirection(c,v),T=n.parseMsid(c),S=n.getMid(c)||n.generateIdentifier();if(y||"application"===h&&("DTLS/SCTP"===C||"UDP/DTLS/SCTP"===C))i.transceivers[d]={mid:S,kind:h,protocol:C,rejected:!0};else{var R,b,E,x,P,w,D,O,A;!y&&i.transceivers[d]&&i.transceivers[d].rejected&&(i.transceivers[d]=i._createTransceiver(h,!0));var k,I,M=n.parseRtpParameters(c);y||(k=n.getIceParameters(c,v),I=n.getDtlsParameters(c,v),I.role="client"),D=n.parseRtpEncodingParameters(c);var j=n.parseRtcpParameters(c),N=n.matchPrefix(c,"a=end-of-candidates",v).length>0,L=n.matchPrefix(c,"a=candidate:").map((function(e){return n.parseCandidate(e)})).filter((function(e){return 1===e.component}));if(("offer"===o.type||"answer"===o.type)&&!y&&g&&d>0&&i.transceivers[d]&&(i._disposeIceAndDtlsTransports(d),i.transceivers[d].iceGatherer=i.transceivers[0].iceGatherer,i.transceivers[d].iceTransport=i.transceivers[0].iceTransport,i.transceivers[d].dtlsTransport=i.transceivers[0].dtlsTransport,i.transceivers[d].rtpSender&&i.transceivers[d].rtpSender.setTransport(i.transceivers[0].dtlsTransport),i.transceivers[d].rtpReceiver&&i.transceivers[d].rtpReceiver.setTransport(i.transceivers[0].dtlsTransport)),"offer"!==o.type||y){if("answer"===o.type&&!y){R=i.transceivers[d],b=R.iceGatherer,E=R.iceTransport,x=R.dtlsTransport,P=R.rtpReceiver,w=R.sendEncodingParameters,O=R.localCapabilities,i.transceivers[d].recvEncodingParameters=D,i.transceivers[d].remoteCapabilities=M,i.transceivers[d].rtcpParameters=j,L.length&&"new"===E.state&&(!m&&!N||g&&0!==d?L.forEach((function(e){u(R.iceTransport,e)})):E.setRemoteCandidates(L)),g&&0!==d||("new"===E.state&&E.start(b,k,"controlling"),"new"===x.state&&x.start(I));var z=s(R.localCapabilities,R.remoteCapabilities),U=z.codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length;!U&&R.sendEncodingParameters[0].rtx&&delete R.sendEncodingParameters[0].rtx,i._transceive(R,"sendrecv"===_||"recvonly"===_,"sendrecv"===_||"sendonly"===_),!P||"sendrecv"!==_&&"sendonly"!==_?delete R.rtpReceiver:(A=P.track,T?(a[T.stream]||(a[T.stream]=new e.MediaStream),r(A,a[T.stream]),l.push([A,P,a[T.stream]])):(a.default||(a.default=new e.MediaStream),r(A,a.default),l.push([A,P,a.default])))}}else{R=i.transceivers[d]||i._createTransceiver(h),R.mid=S,R.iceGatherer||(R.iceGatherer=i._createIceGatherer(d,g)),L.length&&"new"===R.iceTransport.state&&(!N||g&&0!==d?L.forEach((function(e){u(R.iceTransport,e)})):R.iceTransport.setRemoteCandidates(L)),O=e.RTCRtpReceiver.getCapabilities(h),t<15019&&(O.codecs=O.codecs.filter((function(e){return"rtx"!==e.name}))),w=R.sendEncodingParameters||[{ssrc:1001*(2*d+2)}];var F,G=!1;if("sendrecv"===_||"sendonly"===_){if(G=!R.rtpReceiver,P=R.rtpReceiver||new e.RTCRtpReceiver(R.dtlsTransport,h),G)A=P.track,T&&"-"===T.stream||(T?(a[T.stream]||(a[T.stream]=new e.MediaStream,Object.defineProperty(a[T.stream],"id",{get:function(){return T.stream}})),Object.defineProperty(A,"id",{get:function(){return T.track}}),F=a[T.stream]):(a.default||(a.default=new e.MediaStream),F=a.default)),F&&(r(A,F),R.associatedRemoteMediaStreams.push(F)),l.push([A,P,F])}else R.rtpReceiver&&R.rtpReceiver.track&&(R.associatedRemoteMediaStreams.forEach((function(e){var t=e.getTracks().find((function(e){return e.id===R.rtpReceiver.track.id}));t&&f(t,e)})),R.associatedRemoteMediaStreams=[]);R.localCapabilities=O,R.remoteCapabilities=M,R.rtpReceiver=P,R.rtcpParameters=j,R.sendEncodingParameters=w,R.recvEncodingParameters=D,i._transceive(i.transceivers[d],!1,G)}}})),void 0===i._dtlsRole&&(i._dtlsRole="offer"===o.type?"active":"passive"),i._remoteDescription={type:o.type,sdp:o.sdp},"offer"===o.type?i._updateSignalingState("have-remote-offer"):i._updateSignalingState("stable"),Object.keys(a).forEach((function(t){var r=a[t];if(r.getTracks().length){if(-1===i.remoteStreams.indexOf(r)){i.remoteStreams.push(r);var n=new Event("addstream");n.stream=r,e.setTimeout((function(){i._dispatchEvent("addstream",n)}))}l.forEach((function(e){var t=e[0],n=e[1];r.id===e[2].id&&p(i,t,n,[r])}))}})),l.forEach((function(e){e[2]||p(i,e[0],e[1],[])})),e.setTimeout((function(){i&&i.transceivers&&i.transceivers.forEach((function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))}))}),4e3),Promise.resolve()},l.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState("closed")},l.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},l.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout((function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}}),0))},l.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++})),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var r=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",r)}},l.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)})),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var r=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",r)}},l.prototype.createOffer=function(){var r=this;if(r._isClosed)return Promise.reject(d("InvalidStateError","Can not call createOffer after close"));var o=r.transceivers.filter((function(e){return"audio"===e.kind})).length,a=r.transceivers.filter((function(e){return"video"===e.kind})).length,s=arguments[0];if(s){if(s.mandatory||s.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==s.offerToReceiveAudio&&(o=!0===s.offerToReceiveAudio?1:!1===s.offerToReceiveAudio?0:s.offerToReceiveAudio),void 0!==s.offerToReceiveVideo&&(a=!0===s.offerToReceiveVideo?1:!1===s.offerToReceiveVideo?0:s.offerToReceiveVideo)}r.transceivers.forEach((function(e){"audio"===e.kind?(o--,o<0&&(e.wantReceive=!1)):"video"===e.kind&&(a--,a<0&&(e.wantReceive=!1))}));while(o>0||a>0)o>0&&(r._createTransceiver("audio"),o--),a>0&&(r._createTransceiver("video"),a--);var c=n.writeSessionBoilerplate(r._sdpSessionId,r._sdpSessionVersion++);r.transceivers.forEach((function(o,i){var a=o.track,s=o.kind,c=o.mid||n.generateIdentifier();o.mid=c,o.iceGatherer||(o.iceGatherer=r._createIceGatherer(i,r.usingBundle));var u=e.RTCRtpSender.getCapabilities(s);t<15019&&(u.codecs=u.codecs.filter((function(e){return"rtx"!==e.name}))),u.codecs.forEach((function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),o.remoteCapabilities&&o.remoteCapabilities.codecs&&o.remoteCapabilities.codecs.forEach((function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)}))})),u.headerExtensions.forEach((function(e){var t=o.remoteCapabilities&&o.remoteCapabilities.headerExtensions||[];t.forEach((function(t){e.uri===t.uri&&(e.id=t.id)}))}));var d=o.sendEncodingParameters||[{ssrc:1001*(2*i+1)}];a&&t>=15019&&"video"===s&&!d[0].rtx&&(d[0].rtx={ssrc:d[0].ssrc+1}),o.wantReceive&&(o.rtpReceiver=new e.RTCRtpReceiver(o.dtlsTransport,s)),o.localCapabilities=u,o.sendEncodingParameters=d})),"max-compat"!==r._config.bundlePolicy&&(c+="a=group:BUNDLE "+r.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),c+="a=ice-options:trickle\r\n",r.transceivers.forEach((function(e,t){c+=i(e,e.localCapabilities,"offer",e.stream,r._dtlsRole),c+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===r.iceGatheringState||0!==t&&r.usingBundle||(e.iceGatherer.getLocalCandidates().forEach((function(e){e.component=1,c+="a="+n.writeCandidate(e)+"\r\n"})),"completed"===e.iceGatherer.state&&(c+="a=end-of-candidates\r\n"))}));var u=new e.RTCSessionDescription({type:"offer",sdp:c});return Promise.resolve(u)},l.prototype.createAnswer=function(){var r=this;if(r._isClosed)return Promise.reject(d("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==r.signalingState&&"have-local-pranswer"!==r.signalingState)return Promise.reject(d("InvalidStateError","Can not call createAnswer in signalingState "+r.signalingState));var o=n.writeSessionBoilerplate(r._sdpSessionId,r._sdpSessionVersion++);r.usingBundle&&(o+="a=group:BUNDLE "+r.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),o+="a=ice-options:trickle\r\n";var a=n.getMediaSections(r._remoteDescription.sdp).length;r.transceivers.forEach((function(e,n){if(!(n+1>a)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?o+="m=application 0 DTLS/SCTP 5000\r\n":o+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?o+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(o+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(o+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var c;if(e.stream)"audio"===e.kind?c=e.stream.getAudioTracks()[0]:"video"===e.kind&&(c=e.stream.getVideoTracks()[0]),c&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1});var u=s(e.localCapabilities,e.remoteCapabilities),d=u.codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length;!d&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,o+=i(e,u,"answer",e.stream,r._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(o+="a=rtcp-rsize\r\n")}}));var c=new e.RTCSessionDescription({type:"answer",sdp:o});return Promise.resolve(c)},l.prototype.addIceCandidate=function(e){var t,r=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise((function(o,i){if(!r._remoteDescription)return i(d("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var a=e.sdpMLineIndex;if(e.sdpMid)for(var s=0;s<r.transceivers.length;s++)if(r.transceivers[s].mid===e.sdpMid){a=s;break}var c=r.transceivers[a];if(!c)return i(d("OperationError","Can not add ICE candidate"));if(c.rejected)return o();var f=Object.keys(e.candidate).length>0?n.parseCandidate(e.candidate):{};if("tcp"===f.protocol&&(0===f.port||9===f.port))return o();if(f.component&&1!==f.component)return o();if((0===a||a>0&&c.iceTransport!==r.transceivers[0].iceTransport)&&!u(c.iceTransport,f))return i(d("OperationError","Can not add ICE candidate"));var p=e.candidate.trim();0===p.indexOf("a=")&&(p=p.substr(2)),t=n.getMediaSections(r._remoteDescription.sdp),t[a]+="a="+(f.type?p:"end-of-candidates")+"\r\n",r._remoteDescription.sdp=n.getDescription(r._remoteDescription.sdp)+t.join("")}else for(var l=0;l<r.transceivers.length;l++)if(!r.transceivers[l].rejected&&(r.transceivers[l].iceTransport.addRemoteCandidate({}),t=n.getMediaSections(r._remoteDescription.sdp),t[l]+="a=end-of-candidates\r\n",r._remoteDescription.sdp=n.getDescription(r._remoteDescription.sdp)+t.join(""),r.usingBundle))break;o()}))},l.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var r=null;if(this.transceivers.forEach((function(e){e.rtpSender&&e.rtpSender.track===t?r=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(r=e.rtpReceiver)})),!r)throw d("InvalidAccessError","Invalid selector.");return r.getStats()}var n=[];return this.transceivers.forEach((function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(t){e[t]&&n.push(e[t].getStats())}))})),Promise.all(n).then((function(e){var t=new Map;return e.forEach((function(e){e.forEach((function(e){t.set(e.id,e)}))})),t}))};var h=["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"];h.forEach((function(t){var r=e[t];if(r&&r.prototype&&r.prototype.getStats){var n=r.prototype.getStats;r.prototype.getStats=function(){return n.apply(this).then((function(e){var t=new Map;return Object.keys(e).forEach((function(r){e[r].type=o(e[r]),t.set(r,e[r])})),t}))}}}));var v=["createOffer","createAnswer"];return v.forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"===typeof e[0]||"function"===typeof e[1]?t.apply(this,[arguments[2]]).then((function(t){"function"===typeof e[0]&&e[0].apply(null,[t])}),(function(t){"function"===typeof e[1]&&e[1].apply(null,[t])})):t.apply(this,arguments)}})),v=["setLocalDescription","setRemoteDescription","addIceCandidate"],v.forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"===typeof e[1]||"function"===typeof e[2]?t.apply(this,arguments).then((function(){"function"===typeof e[1]&&e[1].apply(null)}),(function(t){"function"===typeof e[2]&&e[2].apply(null,[t])})):t.apply(this,arguments)}})),["getStats"].forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"===typeof e[1]?t.apply(this,arguments).then((function(){"function"===typeof e[1]&&e[1].apply(null)})):t.apply(this,arguments)}})),l}}}]);